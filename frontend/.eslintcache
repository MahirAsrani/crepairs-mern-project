[{"C:\\Users\\Deepakshi\\Desktop\\react\\crepairs-mern-project\\frontend\\src\\index.js":"1","C:\\Users\\Deepakshi\\Desktop\\react\\crepairs-mern-project\\frontend\\src\\App.js":"2","C:\\Users\\Deepakshi\\Desktop\\react\\crepairs-mern-project\\frontend\\src\\Context.js":"3","C:\\Users\\Deepakshi\\Desktop\\react\\crepairs-mern-project\\frontend\\src\\Home.js":"4","C:\\Users\\Deepakshi\\Desktop\\react\\crepairs-mern-project\\frontend\\src\\Login.js":"5","C:\\Users\\Deepakshi\\Desktop\\react\\crepairs-mern-project\\frontend\\src\\Scrolltotop.js":"6","C:\\Users\\Deepakshi\\Desktop\\react\\crepairs-mern-project\\frontend\\src\\pages\\User.js":"7","C:\\Users\\Deepakshi\\Desktop\\react\\crepairs-mern-project\\frontend\\src\\pages\\Success.js":"8","C:\\Users\\Deepakshi\\Desktop\\react\\crepairs-mern-project\\frontend\\src\\pages\\Wash.js":"9","C:\\Users\\Deepakshi\\Desktop\\react\\crepairs-mern-project\\frontend\\src\\pages\\Repair.js":"10","C:\\Users\\Deepakshi\\Desktop\\react\\crepairs-mern-project\\frontend\\src\\pages\\Maintain.js":"11","C:\\Users\\Deepakshi\\Desktop\\react\\crepairs-mern-project\\frontend\\src\\pages\\Dashboard\\Dashboard.js":"12","C:\\Users\\Deepakshi\\Desktop\\react\\crepairs-mern-project\\frontend\\src\\pages\\Booking.js":"13","C:\\Users\\Deepakshi\\Desktop\\react\\crepairs-mern-project\\frontend\\src\\pages\\Dashboard\\ManageCars.js":"14","C:\\Users\\Deepakshi\\Desktop\\react\\crepairs-mern-project\\frontend\\src\\pages\\Profile.js":"15","C:\\Users\\Deepakshi\\Desktop\\react\\crepairs-mern-project\\frontend\\src\\pages\\Dashboard\\ManageUsers.js":"16","C:\\Users\\Deepakshi\\Desktop\\react\\crepairs-mern-project\\frontend\\src\\pages\\Dashboard\\CarList.js":"17","C:\\Users\\Deepakshi\\Desktop\\react\\crepairs-mern-project\\frontend\\src\\pages\\Dashboard\\PaymentsList.js":"18","C:\\Users\\Deepakshi\\Desktop\\react\\crepairs-mern-project\\frontend\\src\\pages\\Dashboard\\BookDetails.js":"19","C:\\Users\\Deepakshi\\Desktop\\react\\crepairs-mern-project\\frontend\\src\\pages\\Dashboard\\Dbooking.js":"20","C:\\Users\\Deepakshi\\Desktop\\react\\crepairs-mern-project\\frontend\\src\\pages\\Razorpay\\keys.js":"21","C:\\Users\\Deepakshi\\Desktop\\react\\crepairs-mern-project\\frontend\\src\\pages\\Shop\\Shop.js":"22","C:\\Users\\Deepakshi\\Desktop\\react\\crepairs-mern-project\\frontend\\src\\pages\\Shop\\Comp\\Cater.js":"23","C:\\Users\\Deepakshi\\Desktop\\react\\crepairs-mern-project\\frontend\\src\\pages\\Shop\\Product.js":"24","C:\\Users\\Deepakshi\\Desktop\\react\\crepairs-mern-project\\frontend\\src\\pages\\Dashboard\\Items.js":"25","C:\\Users\\Deepakshi\\Desktop\\react\\crepairs-mern-project\\frontend\\src\\pages\\Shop\\Comp\\Cart.js":"26","C:\\Users\\Deepakshi\\Desktop\\react\\crepairs-mern-project\\frontend\\src\\pages\\Shop\\Comp\\Checkout.js":"27"},{"size":656,"mtime":1617697939953,"results":"28","hashOfConfig":"29"},{"size":5631,"mtime":1624443645698,"results":"30","hashOfConfig":"29"},{"size":1242,"mtime":1624441302714,"results":"31","hashOfConfig":"29"},{"size":5081,"mtime":1621852592980,"results":"32","hashOfConfig":"29"},{"size":8851,"mtime":1617697939809,"results":"33","hashOfConfig":"29"},{"size":319,"mtime":1617697939810,"results":"34","hashOfConfig":"29"},{"size":1547,"mtime":1617697939966,"results":"35","hashOfConfig":"29"},{"size":1111,"mtime":1617697939966,"results":"36","hashOfConfig":"29"},{"size":28170,"mtime":1617697939967,"results":"37","hashOfConfig":"29"},{"size":27083,"mtime":1617697939965,"results":"38","hashOfConfig":"29"},{"size":33142,"mtime":1617697939962,"results":"39","hashOfConfig":"29"},{"size":8967,"mtime":1623582873146,"results":"40","hashOfConfig":"29"},{"size":10500,"mtime":1617697939955,"results":"41","hashOfConfig":"29"},{"size":3931,"mtime":1617697939959,"results":"42","hashOfConfig":"29"},{"size":9146,"mtime":1617697939963,"results":"43","hashOfConfig":"29"},{"size":2231,"mtime":1617697939960,"results":"44","hashOfConfig":"29"},{"size":4075,"mtime":1617697939957,"results":"45","hashOfConfig":"29"},{"size":2175,"mtime":1617697939961,"results":"46","hashOfConfig":"29"},{"size":7129,"mtime":1617697939956,"results":"47","hashOfConfig":"29"},{"size":2140,"mtime":1617697939959,"results":"48","hashOfConfig":"29"},{"size":106,"mtime":1617697939964,"results":"49","hashOfConfig":"29"},{"size":3425,"mtime":1624438887311,"results":"50","hashOfConfig":"29"},{"size":737,"mtime":1623836263014,"results":"51","hashOfConfig":"29"},{"size":2032,"mtime":1624014876294,"results":"52","hashOfConfig":"29"},{"size":3717,"mtime":1623840336708,"results":"53","hashOfConfig":"29"},{"size":2224,"mtime":1624443800264,"results":"54","hashOfConfig":"29"},{"size":150,"mtime":1624443818863,"results":"55","hashOfConfig":"29"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},"19bcqc8",{"filePath":"59","messages":"60","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"67","usedDeprecatedRules":"58"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"72","usedDeprecatedRules":"58"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"75","usedDeprecatedRules":"58"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"78","messages":"79","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"80","usedDeprecatedRules":"58"},{"filePath":"81","messages":"82","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"83","usedDeprecatedRules":"58"},{"filePath":"84","messages":"85","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"86","usedDeprecatedRules":"58"},{"filePath":"87","messages":"88","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"89","usedDeprecatedRules":"58"},{"filePath":"90","messages":"91","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"92","usedDeprecatedRules":"58"},{"filePath":"93","messages":"94","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"95","usedDeprecatedRules":"58"},{"filePath":"96","messages":"97","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"98","usedDeprecatedRules":"58"},{"filePath":"99","messages":"100","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"101","usedDeprecatedRules":"58"},{"filePath":"102","messages":"103","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"104","messages":"105","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"106","usedDeprecatedRules":"58"},{"filePath":"107","messages":"108","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"109","usedDeprecatedRules":"58"},{"filePath":"110","messages":"111","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"112","messages":"113","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"114","messages":"115","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"116","usedDeprecatedRules":"58"},{"filePath":"117","messages":"118","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"119","usedDeprecatedRules":"58"},{"filePath":"120","messages":"121","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"122","messages":"123","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"124","messages":"125","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\Deepakshi\\Desktop\\react\\crepairs-mern-project\\frontend\\src\\index.js",[],["126","127"],"C:\\Users\\Deepakshi\\Desktop\\react\\crepairs-mern-project\\frontend\\src\\App.js",["128"],"C:\\Users\\Deepakshi\\Desktop\\react\\crepairs-mern-project\\frontend\\src\\Context.js",[],"C:\\Users\\Deepakshi\\Desktop\\react\\crepairs-mern-project\\frontend\\src\\Home.js",[],"C:\\Users\\Deepakshi\\Desktop\\react\\crepairs-mern-project\\frontend\\src\\Login.js",["129"],"import axios from 'axios';\r\nimport React, { useContext, useState } from 'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport './App.css';\r\nimport { myContext } from './Context';\r\nimport { toast } from 'react-toastify';\r\n\r\nconst Login = () => {\r\n  const [email, setemail] = useState('');\r\n  const [pass, setpass] = useState('');\r\n  const history = useHistory();\r\n  const { setAuth, setHeader } = useContext(myContext);\r\n\r\n  setHeader(true);\r\n  function submitlogin(e) {\r\n    e.preventDefault();\r\n    if (email === '' || pass === '') {\r\n      alert('info needed');\r\n    } else {\r\n      axios\r\n        .post(\r\n          '/api/auth/login',\r\n          {\r\n            email: email,\r\n            password: pass,\r\n          },\r\n          { withCredentials: true }\r\n        )\r\n        .then(() => {\r\n          setAuth(true);\r\n          toast.success('Login Successful');\r\n          history.push('/');\r\n        })\r\n        .catch((er) => toast.error('â•³ Incorrect email or password'));\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"login_parent\">\r\n      <div className=\"login_left\"></div>\r\n      <div className=\"login_right\">\r\n        <div className=\"login_inside\">\r\n          <h3>Welcome back!</h3>\r\n\r\n          <form onSubmit={submitlogin} className=\"form\">\r\n            <label>Email</label>\r\n            <input\r\n              onChange={(e) => setemail(e.target.value)}\r\n              value={email}\r\n              className=\"textfield\"\r\n              type=\"email\"\r\n              placeholder=\"xyz@email.com\"\r\n              required\r\n            />\r\n            <label>Password</label>\r\n            <input\r\n              className=\"textfield\"\r\n              onChange={(e) => setpass(e.target.value)}\r\n              value={pass}\r\n              type=\"password\"\r\n              placeholder=\"******\"\r\n              required\r\n            />\r\n            <p className=\"forgotpass\">\r\n              <Link to=\"/signin/reset\">Forgot password</Link>\r\n            </p>\r\n            <button type=\"submit\">\r\n              Sign in <i className=\"gg-arrow-right\"></i>\r\n            </button>\r\n          </form>\r\n\r\n          <p className=\"info\">\r\n            Don't have an account, <Link to=\"/signup\">Sign up</Link>\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const ForgotPassword = () => {\r\n  const [email, setemail] = useState('');\r\n  const history = useHistory();\r\n  const [isLoading, setLoading] = useState(false);\r\n\r\n  const Submit = (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    axios\r\n      .post('/api/auth/forgot', { email }, { withCredentials: true })\r\n      .then(() => {\r\n        setLoading(false);\r\n        toast.success('Successfully sent');\r\n        // history.push('/login');\r\n      })\r\n      .catch((er) => toast.error('Theres no user with this email'));\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"login_parent\">\r\n        <div className=\"login_left\"></div>\r\n        <div className=\"login_right\">\r\n          <div className=\"login_inside\">\r\n            <h3>Trouble Logging In?</h3>\r\n\r\n            <form onSubmit={Submit} className=\"form\">\r\n              <label>Enter your email</label>\r\n              <input\r\n                onChange={(e) => setemail(e.target.value)}\r\n                value={email}\r\n                className=\"textfield\"\r\n                type=\"email\"\r\n                placeholder=\"email@domain.com\"\r\n                required\r\n              />\r\n\r\n              <button type=\"submit\">\r\n                {isLoading ? (\r\n                  <span\r\n                    class=\"spinner-border spinner-border-sm\"\r\n                    role=\"status\"\r\n                    aria-hidden=\"true\"\r\n                  ></span>\r\n                ) : null}\r\n                Send Reset Link <i className=\"gg-arrow-right\"></i>\r\n              </button>\r\n\r\n              <p className=\"info\">\r\n                <Link to=\"/signin\">Go back to login page</Link>\r\n              </p>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const NewPassword = ({ match }) => {\r\n  const [password, setPassword] = useState('');\r\n  const [pass2, setPass2] = useState('');\r\n  const [isLoading, setLoading] = useState(false);\r\n  const history = useHistory();\r\n  const token = match.params.resetToken;\r\n\r\n  const Submit = (e) => {\r\n    e.preventDefault();\r\n    if (password === pass2) {\r\n      setLoading(true);\r\n      axios\r\n        .post('/api/auth/reset', { password, token }, { withCredentials: true })\r\n        .then(() => {\r\n          setLoading(false);\r\n          toast.success('Successfully Changed');\r\n          history.push('/signin');\r\n        })\r\n        .catch((er) => toast.error(er.response.data));\r\n    } else {\r\n      toast.error('Password does not match with confirm password');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"login_parent\">\r\n        <div className=\"login_left\"></div>\r\n        <div className=\"login_right\">\r\n          <div className=\"login_inside\">\r\n            <h3>New Password </h3>\r\n\r\n            <form onSubmit={Submit} className=\"form\">\r\n              <label>Enter new password</label>\r\n              <input\r\n                onChange={(e) => setPassword(e.target.value)}\r\n                value={password}\r\n                className=\"textfield\"\r\n                type=\"password\"\r\n                placeholder=\"************\"\r\n                required\r\n              />\r\n              <label>Enter confirm password </label>\r\n              <input\r\n                onChange={(e) => setPass2(e.target.value)}\r\n                value={pass2}\r\n                className=\"textfield\"\r\n                type=\"password\"\r\n                placeholder=\"************\"\r\n                required\r\n              />\r\n\r\n              <button type=\"submit\">\r\n                {isLoading ? (\r\n                  <span\r\n                    class=\"spinner-border spinner-border-sm\"\r\n                    role=\"status\"\r\n                    aria-hidden=\"true\"\r\n                  ></span>\r\n                ) : null}\r\n                Change Password <i className=\"gg-arrow-right\"></i>\r\n              </button>\r\n\r\n              <p className=\"info\">\r\n                <Link to=\"/signin\">Go back to login page</Link>\r\n              </p>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const RegisterPage = () => {\r\n  const [email, setemail] = useState('');\r\n  const [pass, setpass] = useState('');\r\n  const [pass2, setpass2] = useState('');\r\n  const [fullname, setfullname] = useState('');\r\n  const history = useHistory();\r\n\r\n  function reg(e) {\r\n    e.preventDefault();\r\n    if (pass === pass2)\r\n      axios\r\n        .post(\r\n          '/api/auth/register',\r\n          {\r\n            name: fullname,\r\n            email: email,\r\n            password: pass,\r\n          },\r\n          { withCredentials: true }\r\n        )\r\n        .then(() => {\r\n          toast.success('Registered');\r\n          history.push('/signin');\r\n        })\r\n        .catch((er) => toast.error('Email already in use'));\r\n    else toast.error('password does not match');\r\n  }\r\n\r\n  return (\r\n    <div className=\"login_parent\">\r\n      <div className=\"login_left\"></div>\r\n      <div className=\"login_right\">\r\n        <div className=\"login_inside\">\r\n          <h3>Register !</h3>\r\n\r\n          <form onSubmit={reg} className=\"form\">\r\n            <label>Full Name</label>\r\n            <input\r\n              onChange={(e) => setfullname(e.target.value)}\r\n              value={fullname}\r\n              className=\"textfield\"\r\n              type=\"text\"\r\n              placeholder=\"John Doe\"\r\n              required\r\n            />\r\n            <label>Email</label>\r\n            <input\r\n              onChange={(e) => setemail(e.target.value)}\r\n              value={email}\r\n              className=\"textfield\"\r\n              type=\"email\"\r\n              placeholder=\"xyz@email.com\"\r\n              required\r\n            />\r\n            <label>Password</label>\r\n            <input\r\n              className=\"textfield\"\r\n              onChange={(e) => setpass(e.target.value)}\r\n              value={pass}\r\n              type=\"password\"\r\n              placeholder=\"******\"\r\n              required\r\n            />\r\n            <label>Confirm Password</label>\r\n            <input\r\n              className=\"textfield\"\r\n              onChange={(e) => setpass2(e.target.value)}\r\n              value={pass2}\r\n              type=\"password\"\r\n              placeholder=\"******\"\r\n              required\r\n            />\r\n            <button type=\"submit\">\r\n              Sign up <i className=\"gg-arrow-right\"></i>\r\n            </button>\r\n          </form>\r\n\r\n          <p className=\"info\">\r\n            Already have an account, <Link to=\"/signin\">Sign in</Link>\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","C:\\Users\\Deepakshi\\Desktop\\react\\crepairs-mern-project\\frontend\\src\\Scrolltotop.js",[],"C:\\Users\\Deepakshi\\Desktop\\react\\crepairs-mern-project\\frontend\\src\\pages\\User.js",["130","131","132"],"import React from 'react';\r\nimport {\r\n  Link,\r\n  NavLink,\r\n  Redirect,\r\n  Route,\r\n  Switch,\r\n  useRouteMatch,\r\n} from 'react-router-dom';\r\nimport Booking, { ViewBooking } from './Booking';\r\nimport Profile, { Cpassword } from './Profile';\r\nimport './profile.css';\r\n\r\nfunction User() {\r\n  let { path, url } = useRouteMatch();\r\n\r\n  return (\r\n    <div className=\"bg-light\">\r\n      <div className=\"backgrad\"></div>\r\n      <div className=\"container\">\r\n        <div className=\"row py-5\">\r\n          <div className=\"col-md-3 profile_menu\">\r\n            <ul>\r\n              <NavLink activeClassName=\"active\" to={`${path}/profile`}>\r\n                <li>Profile</li>\r\n              </NavLink>\r\n              <NavLink activeClassName=\"active\" to={`${path}/booking`}>\r\n                <li>Bookings</li>\r\n              </NavLink>\r\n              <NavLink activeClassName=\"active\" to={`${path}/changepassword`}>\r\n                <li>Password</li>\r\n              </NavLink>\r\n            </ul>\r\n          </div>\r\n\r\n          {/* Comp switch */}\r\n          <Switch>\r\n            <Route exact path={`${path}/profile`} component={Profile} />\r\n            <Route exact path={`${path}/booking`} component={Booking} />\r\n            <Route exact path={`${path}/booking/:id`} component={ViewBooking} />\r\n            <Route\r\n              exact\r\n              path={`${path}/changepassword`}\r\n              component={Cpassword}\r\n            />\r\n          </Switch>\r\n          {/* Comp switch */}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default User;\r\n","C:\\Users\\Deepakshi\\Desktop\\react\\crepairs-mern-project\\frontend\\src\\pages\\Success.js",["133"],"import React, { useContext, useState } from 'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { myContext } from '../Context';\r\nimport Lottie from 'lottie-react';\r\nimport tick from '../assets/success-indicator.json';\r\n\r\nexport const Success = () => {\r\n  const { setHeader } = useContext(myContext);\r\n  const history = useHistory();\r\n  setHeader(true);\r\n  const [done, setDone] = useState(false);\r\n\r\n  return (\r\n    <div id=\"success\">\r\n      <div className=\"container\">\r\n        <div className=\"row py-4 justify-content-center\">\r\n          <div className=\"col-6 card shadow text-center\">\r\n            <Lottie\r\n              animationData={tick}\r\n              loop={false}\r\n              style={{ height: 200 }}\r\n              onComplete={() => setDone(true)}\r\n            />\r\n            {done && (\r\n              <>\r\n                <span className=\"woho\">Woo Hoo!</span>\r\n                <h2>Your pickup is confirmed</h2>\r\n                <Link to=\"user/booking\">View Status</Link>\r\n              </>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","C:\\Users\\Deepakshi\\Desktop\\react\\crepairs-mern-project\\frontend\\src\\pages\\Wash.js",[],"C:\\Users\\Deepakshi\\Desktop\\react\\crepairs-mern-project\\frontend\\src\\pages\\Repair.js",["134","135"],"import React, { useContext, useEffect, useState } from 'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { myContext } from '../Context';\r\nimport './services.css';\r\nimport { CSSTransition } from 'react-transition-group';\r\nimport { toast } from 'react-toastify';\r\nimport axios from 'axios';\r\nimport { keys } from './Razorpay/keys';\r\n\r\nimport { EditorState } from 'draft-js';\r\nimport { Editor } from 'react-draft-wysiwyg';\r\nimport { convertToHTML } from 'draft-convert';\r\nimport DOMPurify from 'dompurify';\r\nimport 'react-draft-wysiwyg/dist/react-draft-wysiwyg.css';\r\nimport TimePicker from 'react-bootstrap-time-picker';\r\n\r\nexport const Repair = () => {\r\n  const { user, setAuth, auth, setHeader } = useContext(myContext);\r\n  const history = useHistory();\r\n  setHeader(false);\r\n\r\n  const [brands, setbrands] = useState(null);\r\n\r\n  // wysiwyg\r\n  const [editorState, setEditorState] = useState(() =>\r\n    EditorState.createEmpty()\r\n  );\r\n  const [convertedContent, setConvertedContent] = useState(null);\r\n\r\n  const handleEditorChange = (state) => {\r\n    setEditorState(state);\r\n    convertContentToHTML();\r\n  };\r\n\r\n  const convertContentToHTML = () => {\r\n    let currentContentAsHTML = convertToHTML(editorState.getCurrentContent());\r\n    setConvertedContent(currentContentAsHTML);\r\n    setForm((f) => ({ ...f, descBox: JSON.stringify(currentContentAsHTML) }));\r\n  };\r\n\r\n  console.log(convertedContent);\r\n\r\n  const createMarkup = (html) => {\r\n    return {\r\n      __html: DOMPurify.sanitize(html),\r\n    };\r\n  };\r\n  // wysiwyg END\r\n\r\n  useEffect(() => {\r\n    fetchbrands();\r\n    if (user) {\r\n      setForm((f) => ({\r\n        ...f,\r\n        fullName: user ? user.name : null,\r\n        phoneNo: user ? user.phone : null,\r\n        email: user ? user.email : null,\r\n\r\n        houseNo: user ? user.address && user.address.houseNo : null,\r\n        locality: user ? user.address && user.address.locality : null,\r\n        city: user ? user.address && user.address.city : null,\r\n        pincode: user ? user.address && user.address.pincode : null,\r\n      }));\r\n    }\r\n  }, [user]);\r\n\r\n  function fetchbrands() {\r\n    axios\r\n      .get('/api/cars/', { withCredentials: true })\r\n      .then(({ data }) => {\r\n        setbrands(data);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  const [step, setStep] = useState(1);\r\n  const [animate, setAnimate] = useState(false);\r\n\r\n  const [form, setForm] = useState({\r\n    reg: '',\r\n    vehicleBrand: null,\r\n    vehicleModel: null,\r\n    vehicleImage: null,\r\n    repair: [],\r\n    serviceType: 'Repair',\r\n    descBox: null,\r\n    price: null,\r\n    duration: null,\r\n    date: null,\r\n    time: null,\r\n    fullName: user ? user.name : null,\r\n    phoneNo: user ? user.phone : null,\r\n    email: user ? user.email : null,\r\n\r\n    houseNo: user ? user.address && user.address.houseNo : null,\r\n    locality: user ? user.address && user.address.locality : null,\r\n    city: user ? user.address && user.address.city : null,\r\n    pincode: user ? user.address && user.address.pincode : null,\r\n    country: 'INDIA',\r\n    paymentMethod: 'onDelivery',\r\n\r\n    razorpay: {\r\n      razorpay_payment_id: null,\r\n      razorpay_order_id: null,\r\n      razorpay_signature: null,\r\n      loading: true,\r\n    },\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (brands) {\r\n      const i = brands.filter((b) => {\r\n        return b.brand === form.vehicleBrand;\r\n      })[0];\r\n      console.log(i);\r\n    }\r\n  }, [form.vehicleModel]);\r\n\r\n  useEffect(() => {\r\n    setAnimate(true);\r\n  }, [step]);\r\n\r\n  const handleContinue = () => {\r\n    if (step === 3) {\r\n      if (form.paymentMethod === 'Online') {\r\n        // displayRazorpay();\r\n      } else\r\n        axios\r\n          .post('/api/book/add', form, { withCredentials: true })\r\n          .then((e) => {\r\n            history.push('/success');\r\n          })\r\n          .catch((e) => console.log(e));\r\n    }\r\n    if (step !== 3) {\r\n      switch (step) {\r\n        case 1:\r\n          if (\r\n            form.vehicleBrand === null ||\r\n            form.vehicleModel === null ||\r\n            form.repair.length === 0\r\n          )\r\n            toast.error('Please fill all fields');\r\n          else {\r\n            setAnimate(false);\r\n            auth ? setStep((e) => e + 1) : history.push('/signin');\r\n          }\r\n          break;\r\n\r\n        case 2:\r\n          if (\r\n            form.date === null ||\r\n            form.time === null ||\r\n            form.fullName === null ||\r\n            form.email === null ||\r\n            form.phoneNo === null ||\r\n            form.houseNo === null ||\r\n            form.locality === null ||\r\n            form.pincode === null ||\r\n            form.city === null ||\r\n            form.country === null\r\n          )\r\n            toast.error('Please fill all fields');\r\n          else {\r\n            setAnimate(false);\r\n            setStep((e) => e + 1);\r\n          }\r\n          break;\r\n\r\n        default:\r\n          break;\r\n      }\r\n    }\r\n  };\r\n  const handlePrevious = () => {\r\n    if (step !== 1) {\r\n      setAnimate(false);\r\n      setStep((e) => e - 1);\r\n    }\r\n  };\r\n\r\n  function selectRepair(type) {\r\n    if (form.repair.includes(type)) {\r\n      const newList = form.repair.filter((data) => data !== type);\r\n      setForm((f) => ({ ...f, repair: [...newList] }));\r\n    } else {\r\n      setForm((f) => ({\r\n        ...f,\r\n        repair: [...f.repair, type],\r\n      }));\r\n    }\r\n    console.log(form);\r\n  }\r\n\r\n  function logout() {\r\n    axios\r\n      .get('/api/auth/logout', {}, { withCredentials: true })\r\n      .then(() => {\r\n        setAuth(false);\r\n        toast.info('Success logout');\r\n        history.push('/');\r\n      })\r\n      .catch((er) => console.log(er));\r\n  }\r\n\r\n  return (\r\n    <div id=\"repair\">\r\n      <div className=\"service_nav\">\r\n        <div className=\"navbar-header\">\r\n          <Link className=\"brand\" to=\"/\">\r\n            Crepairs\r\n          </Link>\r\n        </div>\r\n        <div className=\"step_menu\">\r\n          <div className={step >= 1 ? 'step active' : 'step'}>\r\n            <p>Select</p>\r\n            <div className=\"circle\">\r\n              {step > 1 ? <i className=\"gg-check\"></i> : 1}\r\n            </div>\r\n          </div>\r\n          <div className=\"line\"></div>\r\n          <div className={step >= 2 ? 'step active' : 'step'}>\r\n            <p>Put Info</p>\r\n            <div className=\"circle\">\r\n              {step > 2 ? <i className=\"gg-check\"></i> : 2}\r\n            </div>\r\n          </div>\r\n          <div className=\"line\"></div>\r\n          <div className={step >= 3 ? 'step active' : 'step '}>\r\n            <p>Book</p>\r\n            <div className=\"circle\">\r\n              {step > 3 ? <i className=\"gg-check\"></i> : 3}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"auth\">\r\n          {user ? (\r\n            <div className=\"userwithDrop\">\r\n              <div className=\"userbadge\">\r\n                <div className=\"d-flex\">\r\n                  <div className=\"col myuser text-right px-2\">\r\n                    <h6> {user.name}</h6>\r\n                    <p> {user.isAdmin ? 'Admin' : 'Customer'}</p>\r\n                  </div>\r\n                  <img\r\n                    src={\r\n                      (user.profileImg && user.profileImg) ||\r\n                      require('../assets/dp.png').default\r\n                    }\r\n                    alt=\"profile\"\r\n                    className=\"rounded-circle\"\r\n                    height=\"35px\"\r\n                    width=\"35px\"\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className=\"user-dropdown\">\r\n                <ul className=\"drop-li\">\r\n                  <li>\r\n                    <Link to=\"/user/profile\">\r\n                      <i className=\"far fa-user\"></i>\r\n                      <span> Profile</span>\r\n                    </Link>\r\n                  </li>\r\n                  {user.isAdmin ? (\r\n                    <li>\r\n                      <Link to=\"/dashboard\">\r\n                        <i className=\"far fa-clipboard-list-check\"></i>\r\n                        <span> Dashboard</span>\r\n                      </Link>\r\n                    </li>\r\n                  ) : (\r\n                    <li>\r\n                      <Link to=\"/user/booking\">\r\n                        <i className=\"far fa-clipboard-list-check\"></i>\r\n                        <span> My Bookings </span>\r\n                      </Link>\r\n                    </li>\r\n                  )}\r\n                  <li onClick={() => logout()}>\r\n                    <i className=\"far fa-sign-out-alt\"></i>\r\n                    <span> Logout</span>\r\n                  </li>\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <Link className=\"login-btn\" to=\"/signin\">\r\n              Sign in\r\n            </Link>\r\n          )}\r\n        </div>\r\n      </div>\r\n      <div className=\"container mheight\">\r\n        {step === 1 && (\r\n          <CSSTransition in={animate} timeout={1000} classNames=\"animate\">\r\n            <div className=\"step1\">\r\n              <div className=\"row area-top\">\r\n                <div className=\"col-md-5 left_area\">\r\n                  <h2>Car Information</h2>\r\n\r\n                  <label>Vehicle Brand</label>\r\n                  <select\r\n                    value={form.vehicleBrand}\r\n                    onChange={(e) =>\r\n                      setForm({ ...form, vehicleBrand: e.target.value })\r\n                    }\r\n                  >\r\n                    <option value=\"\" selected>\r\n                      Choose Brand\r\n                    </option>\r\n                    {brands && brands.map((b) => <option>{b.brand}</option>)}\r\n                  </select>\r\n\r\n                  <label>Vehicle Model</label>\r\n                  <select\r\n                    value={form.vehicleModel}\r\n                    onChange={(e) =>\r\n                      setForm({ ...form, vehicleModel: e.target.value })\r\n                    }\r\n                  >\r\n                    <option value=\"\" selected>\r\n                      Choose Model\r\n                    </option>\r\n                    {brands &&\r\n                      form.vehicleBrand &&\r\n                      brands\r\n                        .filter((b) => {\r\n                          return b.brand === form.vehicleBrand;\r\n                        })\r\n                        .map((m) =>\r\n                          m.models.map((m) => <option>{m.Name}</option>)\r\n                        )}\r\n                  </select>\r\n                </div>\r\n                <div className=\"col-md-7 center\">\r\n                  {brands &&\r\n                    brands\r\n                      .filter((b) => {\r\n                        return b.brand === form.vehicleBrand;\r\n                      })\r\n                      .map(({ models }) =>\r\n                        models.map(\r\n                          (m) =>\r\n                            m.Name === form.vehicleModel && (\r\n                              <img src={m.Image} alt=\"car\" height=\"300px\" />\r\n                            )\r\n                        )\r\n                      )}\r\n                  {(form.vehicleBrand == null || form.vehicleModel == null) && (\r\n                    <div\r\n                      style={{\r\n                        minHeight: 300,\r\n                        display: 'flex',\r\n                        justifyContent: 'center',\r\n                        alignItems: 'center',\r\n                      }}\r\n                    >\r\n                      <img\r\n                        src={require('../assets/8227.png').default}\r\n                        width=\"80%\"\r\n                        alt=\"\"\r\n                      />\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"row opt\">\r\n                <div className=\"col-2\">\r\n                  <div\r\n                    className={\r\n                      form.repair.includes('Wheels') ? 'card active' : 'card'\r\n                    }\r\n                    onClick={() => selectRepair('Wheels')}\r\n                  >\r\n                    <img\r\n                      src={require('../assets/repair/wheel.png').default}\r\n                      alt=\"\"\r\n                    />\r\n                    <p>Wheels</p>\r\n                  </div>\r\n                </div>\r\n                <div className=\"col-2\">\r\n                  <div\r\n                    className={\r\n                      form.repair.includes('Ac') ? 'card active' : 'card'\r\n                    }\r\n                    onClick={() => selectRepair('Ac')}\r\n                  >\r\n                    <img\r\n                      src={require('../assets/repair/ac.png').default}\r\n                      alt=\"\"\r\n                    />\r\n                    <p>Ac Repair</p>\r\n                  </div>\r\n                </div>\r\n                <div className=\"col-2\">\r\n                  <div\r\n                    className={\r\n                      form.repair.includes('Disc Brake')\r\n                        ? 'card active'\r\n                        : 'card'\r\n                    }\r\n                    onClick={() => selectRepair('Disc Brake')}\r\n                  >\r\n                    <img\r\n                      src={require('../assets/repair/break.png').default}\r\n                      alt=\"\"\r\n                    />\r\n                    <p>Disc Brake</p>\r\n                  </div>\r\n                </div>\r\n                <div className=\"col-2\">\r\n                  <div\r\n                    className={\r\n                      form.repair.includes('Batteries') ? 'card active' : 'card'\r\n                    }\r\n                    onClick={() => selectRepair('Batteries')}\r\n                  >\r\n                    <img\r\n                      src={require('../assets/repair/batt.png').default}\r\n                      alt=\"\"\r\n                    />\r\n                    <p>Batteries</p>\r\n                  </div>\r\n                </div>\r\n                <div className=\"col-2\">\r\n                  <div\r\n                    className={\r\n                      form.repair.includes('Custom') ? 'card active' : 'card'\r\n                    }\r\n                    onClick={() => selectRepair('Custom')}\r\n                  >\r\n                    <img\r\n                      src={require('../assets/repair/custom.png').default}\r\n                      alt=\"\"\r\n                    />\r\n                    <p>Custom Service</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </CSSTransition>\r\n        )}\r\n        {step === 2 && (\r\n          <CSSTransition in={animate} timeout={1000} classNames=\"animate\">\r\n            <div style={{ minHeight: 450 }}>\r\n              <div className=\"row mt-3\">\r\n                <div className=\"col-8\">\r\n                  <div className=\"\">\r\n                    <h5>Write your problem / requirement below with details</h5>\r\n                    <Editor\r\n                      editorState={editorState}\r\n                      onEditorStateChange={handleEditorChange}\r\n                      wrapperClassName=\"wrapper-class\"\r\n                      editorClassName=\"editor-class\"\r\n                      toolbarClassName=\"toolbar-class\"\r\n                      toolbar={{\r\n                        options: [\r\n                          'inline',\r\n                          'blockType',\r\n                          'fontSize',\r\n                          'list',\r\n                          'textAlign',\r\n                          'history',\r\n                        ],\r\n                        inline: {\r\n                          inDropdown: false,\r\n                          options: ['bold', 'italic', 'underline'],\r\n                        },\r\n\r\n                        list: { inDropdown: false },\r\n                        textAlign: { inDropdown: true },\r\n                      }}\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div className=\"col-4\">\r\n                  <h5>Services Selected </h5>\r\n                  <ul class=\"list-group\">\r\n                    {form.repair.map((d) => (\r\n                      <li class=\"list-group-item\">\r\n                        <i class=\"fas fa-check-circle text-success mr-2\"></i>\r\n                        {d}\r\n                      </li>\r\n                    ))}\r\n                  </ul>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"row mt-2 p-3\">\r\n                <div className=\"col-8 UserInfo px-5 py-4\">\r\n                  <h5 className=\"mb-3\">User Information</h5>\r\n                  <div className=\"row\">\r\n                    <div className=\"col-md-4\">\r\n                      Full Name\r\n                      <input\r\n                        type=\"text\"\r\n                        placeholder=\"Enter Your Name\"\r\n                        className=\"form-control\"\r\n                        maxLength=\"20\"\r\n                        value={form.fullName}\r\n                        onMouseLeave={(e) => e.target.checkValidity()}\r\n                        pattern=\"^[a-zA-Z_ ]*$\"\r\n                        onChange={(e) =>\r\n                          e.target.validity.valid &&\r\n                          setForm({ ...form, fullName: e.target.value })\r\n                        }\r\n                      />\r\n                    </div>\r\n                    <div className=\"col-md-3\">\r\n                      Phone Number\r\n                      <input\r\n                        type=\"text\"\r\n                        placeholder=\"+91\"\r\n                        maxLength=\"10\"\r\n                        className=\"form-control\"\r\n                        value={form.phoneNo}\r\n                        pattern=\"[0-9]*\"\r\n                        onChange={(e) =>\r\n                          e.target.validity.valid &&\r\n                          setForm({ ...form, phoneNo: e.target.value })\r\n                        }\r\n                      />\r\n                    </div>\r\n                    <div className=\"col-md-5\">\r\n                      Email\r\n                      <input\r\n                        type=\"email\"\r\n                        placeholder=\"ex@domain.com\"\r\n                        className=\"form-control\"\r\n                        value={form.email}\r\n                        onChange={(e) =>\r\n                          setForm({ ...form, email: e.target.value })\r\n                        }\r\n                      />\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"row mt-3\">\r\n                    <div className=\"col-12\">Address</div>\r\n                    <div className=\"col-md-8 mb-3\">\r\n                      <input\r\n                        type=\"text\"\r\n                        placeholder=\"House No  / Floor No / Appartment Name\"\r\n                        maxLength=\"100\"\r\n                        className=\"form-control\"\r\n                        value={form.houseNo}\r\n                        onChange={(e) =>\r\n                          setForm({ ...form, houseNo: e.target.value })\r\n                        }\r\n                      />\r\n                    </div>\r\n                    <div className=\"col-md-4 mb-3\">\r\n                      <input\r\n                        type=\"text\"\r\n                        placeholder=\"Locality\"\r\n                        maxLength=\"50\"\r\n                        className=\"form-control\"\r\n                        value={form.locality}\r\n                        pattern=\"^[a-zA-Z_ ]*$\"\r\n                        onChange={(e) =>\r\n                          e.target.validity.valid &&\r\n                          setForm({ ...form, locality: e.target.value })\r\n                        }\r\n                      />\r\n                    </div>\r\n                    <div className=\"col-md-6 mb-3\">\r\n                      <input\r\n                        type=\"text\"\r\n                        placeholder=\"City\"\r\n                        maxLength=\"50\"\r\n                        className=\"form-control\"\r\n                        value={form.city}\r\n                        pattern=\"^[a-zA-Z_ ]*$\"\r\n                        onChange={(e) =>\r\n                          e.target.validity.valid &&\r\n                          setForm({ ...form, city: e.target.value })\r\n                        }\r\n                      />\r\n                    </div>\r\n                    <div className=\"col-md-3 mb-3\">\r\n                      <input\r\n                        type=\"text\"\r\n                        placeholder=\"Pincode\"\r\n                        className=\"form-control\"\r\n                        maxLength=\"6\"\r\n                        value={form.pincode}\r\n                        pattern=\"[0-9]*\"\r\n                        onChange={(e) => {\r\n                          e.target.validity.valid &&\r\n                            setForm({\r\n                              ...form,\r\n                              pincode: e.target.value,\r\n                            });\r\n                        }}\r\n                      />\r\n                    </div>\r\n                    <div className=\"col-md-3 mb-3\">\r\n                      <input\r\n                        type=\"text\"\r\n                        value=\"India\"\r\n                        maxLength=\"30\"\r\n                        className=\"form-control\"\r\n                        disabled\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"col-4 DT p-4\">\r\n                  <div className=\"col-md-12 align-self-center\">\r\n                    <h4 style={{ fontWeight: 600 }}> Appointment </h4>\r\n                    <div className=\"row mt-3\">\r\n                      <div className=\"col-md-12\">\r\n                        <label> Date </label>\r\n                        <input\r\n                          type=\"date\"\r\n                          className=\"form-control appt\"\r\n                          min={new Date().toISOString().split('T')[0]}\r\n                          value={form.date}\r\n                          onChange={(e) =>\r\n                            setForm({ ...form, date: e.target.value })\r\n                          }\r\n                        />\r\n                      </div>\r\n                      <div className=\"col-md-12\">\r\n                        <label> Time </label>\r\n                        <TimePicker\r\n                          className=\"appt\"\r\n                          start={\r\n                            form.date &&\r\n                            new Date().toISOString().split('T')[0] ===\r\n                              new Date(form.date).toISOString().split('T')[0]\r\n                              ? `${\r\n                                  new Date().getMinutes() > 50\r\n                                    ? new Date().getHours() + 2\r\n                                    : new Date().getHours() + 1\r\n                                }:00`\r\n                              : '06:00'\r\n                          }\r\n                          end=\"22:00\"\r\n                          step={60}\r\n                          value={form.time}\r\n                          onChange={(t) =>\r\n                            setForm({ ...form, time: `${t / 3600}:00` })\r\n                          }\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </CSSTransition>\r\n        )}\r\n\r\n        {step === 3 && (\r\n          <CSSTransition in={animate} timeout={1000} classNames=\"animate\">\r\n            <>\r\n              <div className=\"row finalDisp mt-4\" style={{ minHeight: 500 }}>\r\n                <div className=\"col-md-7 \">\r\n                  <div className=\"row\">\r\n                    <div className=\"card d-flex w-100 flex-wrap p-3 flex-row\">\r\n                      <div className=\"col-md-6\">\r\n                        <span>Contact Name</span>\r\n                        <h5>{form.fullName}</h5>\r\n                      </div>\r\n                      <div className=\"col-md-6\">\r\n                        <span>Contact No</span>\r\n                        <h5>{form.phoneNo}</h5>\r\n                      </div>\r\n                      <div className=\"col-md-6 mt-2\">\r\n                        <span>Pickup Address</span>\r\n                        <h5>\r\n                          {form.houseNo}, {form.locality}, {form.city},{' '}\r\n                          {form.pincode}, {form.country}\r\n                        </h5>\r\n                      </div>\r\n                      <div className=\"col-md-6 mt-2\">\r\n                        <span>Pickup Date & Time</span>\r\n                        <h5>\r\n                          {form.date}, {form.time}\r\n                        </h5>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"card d-flex w-100 flex-wrap p-3 flex-row my-3\">\r\n                      <div className=\"col-12\">\r\n                        <span className=\"d-block\">Your Selected services</span>\r\n                        <div className=\"mx-2\">\r\n                          {form.repair.map((d) => (\r\n                            <h5 className=\"d-inline mr-3\">\r\n                              <i class=\"fas fa-check-circle text-success mr-1\"></i>\r\n                              {d}\r\n                            </h5>\r\n                          ))}\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-12 mt-2\">\r\n                        <span>Repair Information</span>\r\n                        <div\r\n                          className=\"mt-2 preview p-2 rounded border\"\r\n                          style={{ background: 'rgb(255, 250, 221)' }}\r\n                          dangerouslySetInnerHTML={createMarkup(\r\n                            convertedContent\r\n                          )}\r\n                        ></div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"col-md-5 carImage\">\r\n                  {brands &&\r\n                    brands\r\n                      .filter((b) => {\r\n                        return b.brand === form.vehicleBrand;\r\n                      })\r\n                      .map(({ models }) =>\r\n                        models.map(\r\n                          (m) =>\r\n                            m.Name === form.vehicleModel && (\r\n                              <img src={m.Image} alt=\"car\" width=\"auto\" />\r\n                            )\r\n                        )\r\n                      )}\r\n                  <p className=\"my-3\">\r\n                    {form.vehicleBrand} {form.vehicleModel}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </>\r\n          </CSSTransition>\r\n        )}\r\n\r\n        <div className=\"sFoot\">\r\n          <p\r\n            className={step === 1 ? 'prev disable' : 'prev'}\r\n            onClick={() => handlePrevious()}\r\n          >\r\n            Previous\r\n          </p>\r\n\r\n          <button className=\"Continue\" onClick={() => handleContinue()}>\r\n            {step !== 3 ? 'Continue' : 'Confirm Booking'}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","C:\\Users\\Deepakshi\\Desktop\\react\\crepairs-mern-project\\frontend\\src\\pages\\Maintain.js",["136"],"import React, { useContext, useEffect, useState } from 'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { myContext } from '../Context';\r\nimport './services.css';\r\nimport { CSSTransition } from 'react-transition-group';\r\nimport { toast } from 'react-toastify';\r\nimport axios from 'axios';\r\nimport { keys } from './Razorpay/keys';\r\nimport TimePicker from 'react-bootstrap-time-picker';\r\n\r\nfunction Maintain() {\r\n  const { user, setAuth, auth, setHeader } = useContext(myContext);\r\n  const [brands, setbrands] = useState(null);\r\n  const [step, setStep] = useState(1);\r\n  const [animate, setAnimate] = useState(false);\r\n\r\n  const [form, setForm] = useState({\r\n    reg: '',\r\n    vehicleBrand: null,\r\n    vehicleModel: null,\r\n    vehicleImage: null,\r\n    repair: [],\r\n    plan: null,\r\n    serviceType: 'Maintenance',\r\n    descBox: null,\r\n    price: null,\r\n    duration: null,\r\n    date: null,\r\n    time: null,\r\n    fullName: user ? user.name : null,\r\n    phoneNo: user ? user.phone : null,\r\n    email: user ? user.email : null,\r\n\r\n    houseNo: user ? user.address && user.address.houseNo : null,\r\n    locality: user ? user.address && user.address.locality : null,\r\n    city: user ? user.address && user.address.city : null,\r\n    pincode: user ? user.address && user.address.pincode : null,\r\n    country: 'INDIA',\r\n    paymentMethod: 'onDelivery',\r\n\r\n    razorpay: {\r\n      razorpay_payment_id: null,\r\n      razorpay_order_id: null,\r\n      razorpay_signature: null,\r\n      loading: true,\r\n    },\r\n  });\r\n  const history = useHistory();\r\n  setHeader(false);\r\n\r\n  useEffect(() => {\r\n    fetchbrands();\r\n    if (user) {\r\n      setForm((f) => ({\r\n        ...f,\r\n        fullName: user ? user.name : null,\r\n        phoneNo: user ? user.phone : null,\r\n        email: user ? user.email : null,\r\n\r\n        houseNo: user ? user.address && user.address.houseNo : null,\r\n        locality: user ? user.address && user.address.locality : null,\r\n        city: user ? user.address && user.address.city : null,\r\n        pincode: user ? user.address && user.address.pincode : null,\r\n      }));\r\n    }\r\n  }, [user]);\r\n\r\n  function fetchbrands() {\r\n    axios\r\n      .get('/api/cars/', { withCredentials: true })\r\n      .then(({ data }) => {\r\n        setbrands(data);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (brands) {\r\n      const i = brands.filter((b) => {\r\n        return b.brand === form.vehicleBrand;\r\n      })[0];\r\n      console.log(i);\r\n    }\r\n  }, [form.vehicleModel]);\r\n\r\n  useEffect(() => {\r\n    setAnimate(true);\r\n  }, [step]);\r\n\r\n  const handleContinue = () => {\r\n    if (step === 3) {\r\n      if (form.paymentMethod === 'Online') {\r\n        displayRazorpay();\r\n      } else\r\n        axios\r\n          .post('/api/book/add', form, { withCredentials: true })\r\n          .then((e) => {\r\n            history.push('/success');\r\n          })\r\n          .catch((e) => console.log(e));\r\n    }\r\n    if (step !== 3) {\r\n      switch (step) {\r\n        case 1:\r\n          if (\r\n            form.vehicleBrand === null ||\r\n            form.vehicleModel === null ||\r\n            form.reg.length < 9 ||\r\n            form.plan === null\r\n          )\r\n            toast.error('Please fill all fields');\r\n          else {\r\n            setAnimate(false);\r\n            auth ? setStep((e) => e + 1) : history.push('/signin');\r\n          }\r\n          break;\r\n\r\n        case 2:\r\n          if (\r\n            form.date === null ||\r\n            form.time === null ||\r\n            form.fullName === null ||\r\n            form.email === null ||\r\n            form.phoneNo === null ||\r\n            form.phoneNo.length !== 10 ||\r\n            form.houseNo === null ||\r\n            form.locality === null ||\r\n            form.pincode === null ||\r\n            form.pincode.length !== 6 ||\r\n            form.city === null ||\r\n            form.country === null\r\n          )\r\n            toast.error('Please fill all fields');\r\n          else {\r\n            setAnimate(false);\r\n            setStep((e) => e + 1);\r\n          }\r\n          break;\r\n\r\n        default:\r\n          break;\r\n      }\r\n    }\r\n  };\r\n  const handlePrevious = () => {\r\n    if (step !== 1) {\r\n      setAnimate(false);\r\n      setStep((e) => e - 1);\r\n    }\r\n  };\r\n\r\n  function loadScript(src) {\r\n    return new Promise((resolve) => {\r\n      const script = document.createElement('script');\r\n      script.src = src;\r\n      script.onload = () => {\r\n        resolve(true);\r\n      };\r\n      script.onerror = () => {\r\n        resolve(false);\r\n      };\r\n      document.body.appendChild(script);\r\n    });\r\n  }\r\n\r\n  async function onlineCompleted(response) {\r\n    const {\r\n      razorpay_payment_id,\r\n      razorpay_order_id,\r\n      razorpay_signature,\r\n    } = response;\r\n\r\n    axios\r\n      .post(\r\n        '/api/book/add',\r\n        { ...form, razorpay_payment_id, razorpay_order_id, razorpay_signature },\r\n        { withCredentials: true }\r\n      )\r\n      .then((e) => {\r\n        history.push('/success');\r\n      })\r\n      .catch((e) => console.log(e));\r\n  }\r\n\r\n  async function displayRazorpay() {\r\n    const res = await loadScript(\r\n      'https://checkout.razorpay.com/v1/checkout.js'\r\n    );\r\n    if (!res) {\r\n      alert('Razorpay SDK Failed to load are you online ?');\r\n      return;\r\n    }\r\n\r\n    const data = await axios\r\n      .post('/api/book/razorpay', { amount: form.price })\r\n      .then((d) => d.data);\r\n\r\n    const options = {\r\n      key: keys.keyId,\r\n      currency: 'INR',\r\n      amount: (form.price * 100).toString(),\r\n      order_id: data.id,\r\n      name: 'crepairs',\r\n      description: 'Thank you for nothing.',\r\n      handler: (response) => {\r\n        onlineCompleted(response);\r\n      },\r\n      prefill: {\r\n        name: form.fullName,\r\n        email: form.email,\r\n        contact: form.phoneNo,\r\n      },\r\n    };\r\n    const paymentObject = new window.Razorpay(options);\r\n    paymentObject.open();\r\n  }\r\n\r\n  const handlePlanSelect = (name, dur, price) => {\r\n    setForm({ ...form, plan: name, duration: dur, price: price });\r\n  };\r\n\r\n  function logout() {\r\n    axios\r\n      .get('/api/auth/logout', {}, { withCredentials: true })\r\n      .then(() => {\r\n        setAuth(false);\r\n        toast.info('Success logout');\r\n        history.push('/');\r\n      })\r\n      .catch((er) => console.log(er));\r\n  }\r\n\r\n  const plans = [\r\n    {\r\n      Name: 'Basic',\r\n      Description: 'In a period of 3 months',\r\n      Price: 1800,\r\n      features: [\r\n        { name: 'AC cooling' },\r\n        { name: 'Engine oil' },\r\n        { name: 'Air filter' },\r\n      ],\r\n      Duration: '1 hr',\r\n    },\r\n    {\r\n      Name: 'Normal',\r\n      Description: 'In a period of 6 months',\r\n      Price: 2600,\r\n      features: [\r\n        { name: 'AC cooling' },\r\n        { name: 'Engine oil' },\r\n        { name: 'Air filter' },\r\n        { name: 'Brake Pad' },\r\n        { name: 'Wheel Alignment' },\r\n      ],\r\n      Duration: '3 hr',\r\n    },\r\n    {\r\n      Name: 'Advance',\r\n      Description: 'In a period of 12 months',\r\n      Price: 4000,\r\n      features: [\r\n        { name: 'AC cooling' },\r\n        { name: 'Engine oil' },\r\n        { name: 'Air filter' },\r\n        { name: 'Brake Pad' },\r\n        { name: 'Wheel Alignment' },\r\n        { name: 'Change Tyre' },\r\n      ],\r\n      Duration: '4 hr',\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <div>\r\n      <div id=\"\">\r\n        <div className=\"service_nav\">\r\n          <div className=\"navbar-header\">\r\n            <Link className=\"brand\" to=\"/\">\r\n              Crepairs\r\n            </Link>\r\n          </div>\r\n          <div className=\"step_menu\">\r\n            <div className={step >= 1 ? 'step active' : 'step'}>\r\n              <p>Select</p>\r\n              <div className=\"circle\">\r\n                {step > 1 ? <i className=\"gg-check\"></i> : 1}\r\n              </div>\r\n            </div>\r\n            <div className=\"line\"></div>\r\n            <div className={step >= 2 ? 'step active' : 'step'}>\r\n              <p>Put Info</p>\r\n              <div className=\"circle\">\r\n                {step > 2 ? <i className=\"gg-check\"></i> : 2}\r\n              </div>\r\n            </div>\r\n            <div className=\"line\"></div>\r\n            <div className={step >= 3 ? 'step active' : 'step '}>\r\n              <p>Book</p>\r\n              <div className=\"circle\">\r\n                {step > 3 ? <i className=\"gg-check\"></i> : 3}\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"auth\">\r\n            {user ? (\r\n              <div className=\"userwithDrop\">\r\n                <div className=\"userbadge\">\r\n                  <div className=\"d-flex\">\r\n                    <div className=\"col myuser text-right px-2\">\r\n                      <h6> {user.name}</h6>\r\n                      <p> {user.isAdmin ? 'Admin' : 'Customer'}</p>\r\n                    </div>\r\n                    <img\r\n                      src={\r\n                        (user.profileImg && user.profileImg) ||\r\n                        require('../assets/dp.png').default\r\n                      }\r\n                      alt=\"profile\"\r\n                      className=\"rounded-circle\"\r\n                      height=\"35px\"\r\n                      width=\"35px\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div className=\"user-dropdown\">\r\n                  <ul className=\"drop-li\">\r\n                    <li>\r\n                      <Link to=\"/user/profile\">\r\n                        <i className=\"far fa-user\"></i>\r\n                        <span> Profile</span>\r\n                      </Link>\r\n                    </li>\r\n                    {user.isAdmin ? (\r\n                      <li>\r\n                        <Link to=\"/dashboard\">\r\n                          <i className=\"far fa-clipboard-list-check\"></i>\r\n                          <span> Dashboard</span>\r\n                        </Link>\r\n                      </li>\r\n                    ) : (\r\n                      <li>\r\n                        <Link to=\"/user/booking\">\r\n                          <i className=\"far fa-clipboard-list-check\"></i>\r\n                          <span> My Bookings </span>\r\n                        </Link>\r\n                      </li>\r\n                    )}\r\n                    <li onClick={() => logout()}>\r\n                      <i className=\"far fa-sign-out-alt\"></i>\r\n                      <span> Logout</span>\r\n                    </li>\r\n                  </ul>\r\n                </div>\r\n              </div>\r\n            ) : (\r\n              <Link className=\"login-btn\" to=\"/signin\">\r\n                Sign in\r\n              </Link>\r\n            )}\r\n          </div>\r\n        </div>\r\n        <div className=\"container mheight\">\r\n          {step === 1 && (\r\n            <CSSTransition in={animate} timeout={1000} classNames=\"animate\">\r\n              <div\r\n                className={\r\n                  form.vehicleModel == null || form.reg.length < 10\r\n                    ? 'step1 d-flex align-items-center'\r\n                    : 'step1'\r\n                }\r\n              >\r\n                <div className=\"row area-top\">\r\n                  <div className=\"col-md-5 left_area\">\r\n                    <h2>Car Information</h2>\r\n\r\n                    <label>Vehicle Registration Number </label>\r\n                    <input\r\n                      type=\"text\"\r\n                      className=\"form-control appt\"\r\n                      style={{ maxWidth: 400, height: 40 }}\r\n                      value={form.reg}\r\n                      placeholder=\"e.g. DL 12XY 6789\"\r\n                      onChange={(e) =>\r\n                        setForm({\r\n                          ...form,\r\n                          reg: e.target.value.toLocaleUpperCase(),\r\n                        })\r\n                      }\r\n                    />\r\n\r\n                    <label>Vehicle Brand</label>\r\n                    <select\r\n                      value={form.vehicleBrand}\r\n                      onChange={(e) =>\r\n                        setForm({ ...form, vehicleBrand: e.target.value })\r\n                      }\r\n                    >\r\n                      <option value=\"\" selected>\r\n                        Choose Brand\r\n                      </option>\r\n                      {brands && brands.map((b) => <option>{b.brand}</option>)}\r\n                    </select>\r\n\r\n                    <label>Vehicle Model</label>\r\n                    <select\r\n                      value={form.vehicleModel}\r\n                      onChange={(e) =>\r\n                        setForm({ ...form, vehicleModel: e.target.value })\r\n                      }\r\n                    >\r\n                      <option value=\"\" selected>\r\n                        Choose Model\r\n                      </option>\r\n                      {brands &&\r\n                        form.vehicleBrand &&\r\n                        brands\r\n                          .filter((b) => {\r\n                            return b.brand === form.vehicleBrand;\r\n                          })\r\n                          .map((m) =>\r\n                            m.models.map((m) => <option>{m.Name}</option>)\r\n                          )}\r\n                    </select>\r\n                  </div>\r\n                  <div className=\"col-md-7 center\">\r\n                    {brands &&\r\n                      form.reg.length >= 10 &&\r\n                      brands\r\n                        .filter((b) => {\r\n                          return b.brand === form.vehicleBrand;\r\n                        })\r\n                        .map(({ models }) =>\r\n                          models.map(\r\n                            (m) =>\r\n                              m.Name === form.vehicleModel && (\r\n                                <img src={m.Image} alt=\"car\" height=\"300px\" />\r\n                              )\r\n                          )\r\n                        )}\r\n                    {(form.vehicleBrand == null ||\r\n                      form.vehicleModel == null ||\r\n                      form.reg.length < 10) && (\r\n                      <div\r\n                        style={{\r\n                          minHeight: 300,\r\n                          display: 'flex',\r\n                          justifyContent: 'center',\r\n                          alignItems: 'center',\r\n                        }}\r\n                      >\r\n                        <img\r\n                          src={require('../assets/8227.png').default}\r\n                          width=\"80%\"\r\n                          alt=\"\"\r\n                        />\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"row plansGrid\">\r\n                  {form.vehicleModel !== null &&\r\n                    form.reg.length >= 10 &&\r\n                    plans.map((data) => (\r\n                      <div className=\"col-md-3\">\r\n                        <div\r\n                          className={\r\n                            data.Name === form.plan ? 'plans active' : 'plans'\r\n                          }\r\n                          onClick={() =>\r\n                            handlePlanSelect(\r\n                              data.Name,\r\n                              data.Duration,\r\n                              data.Price\r\n                            )\r\n                          }\r\n                        >\r\n                          <div className=\"price\">\r\n                            <h5>{data.Name}</h5>\r\n                            <p>Rs. {data.Price} </p>\r\n                          </div>\r\n                          <p style={{ fontSize: '0.9rem' }}>\r\n                            {data.Description}\r\n                          </p>\r\n                          <div className=\"features mt-3\">\r\n                            {data.features.map((d) => (\r\n                              <div className=\"col-12\">\r\n                                <div className=\"d-flex\">\r\n                                  <i class=\"gg-check\"></i>\r\n                                  <p>{d.name}</p>\r\n                                </div>\r\n                              </div>\r\n                            ))}\r\n                          </div>\r\n                          <div className=\"time\">\r\n                            <div className=\"wtICON\">\r\n                              <i class=\"gg-alarm\"></i>\r\n                              <p>Duration</p>\r\n                            </div>\r\n                            <p>{data.Duration}</p>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    ))}\r\n                </div>\r\n              </div>\r\n            </CSSTransition>\r\n          )}\r\n          {step === 2 && (\r\n            <CSSTransition in={animate} timeout={1000} classNames=\"animate\">\r\n              <div className=\"step2\">\r\n                <div className=\"row\">\r\n                  <div className=\"col-md-8 align-self-center\">\r\n                    <h4 style={{ fontWeight: 600 }}> Appointment </h4>\r\n                    <div className=\"row mt-3\">\r\n                      <div className=\"col-md-6\">\r\n                        <label> Date </label>\r\n                        <input\r\n                          type=\"date\"\r\n                          className=\"form-control appt\"\r\n                          min={new Date().toISOString().split('T')[0]}\r\n                          value={form.date}\r\n                          onChange={(e) =>\r\n                            setForm({ ...form, date: e.target.value })\r\n                          }\r\n                        />\r\n                      </div>\r\n                      <div className=\"col-md-6\">\r\n                        <label> Time </label>\r\n                        <TimePicker\r\n                          className=\"appt\"\r\n                          start={\r\n                            form.date &&\r\n                            new Date().toISOString().split('T')[0] ===\r\n                              new Date(form.date).toISOString().split('T')[0]\r\n                              ? `${\r\n                                  new Date().getMinutes() > 50\r\n                                    ? new Date().getHours() + 2\r\n                                    : new Date().getHours() + 1\r\n                                }:00`\r\n                              : '06:00'\r\n                          }\r\n                          end=\"22:00\"\r\n                          step={60}\r\n                          value={form.time}\r\n                          onChange={(t) =>\r\n                            setForm({ ...form, time: `${t / 3600}:00` })\r\n                          }\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"col-md-4 center\">\r\n                    {brands &&\r\n                      brands\r\n                        .filter((b) => {\r\n                          return b.brand === form.vehicleBrand;\r\n                        })\r\n                        .map(({ models }) =>\r\n                          models.map(\r\n                            (m) =>\r\n                              m.Name === form.vehicleModel && (\r\n                                <img\r\n                                  src={m.Image}\r\n                                  alt=\"car\"\r\n                                  height=\"150px\"\r\n                                  width=\"auto\"\r\n                                />\r\n                              )\r\n                          )\r\n                        )}\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"row p-3\">\r\n                  <div className=\"col-8 UserInfo px-5 py-4\">\r\n                    <h5 className=\"mb-3\">User Information</h5>\r\n                    <div className=\"row\">\r\n                      <div className=\"col-md-4\">\r\n                        Full Name\r\n                        <input\r\n                          type=\"text\"\r\n                          placeholder=\"Enter Your Name\"\r\n                          className=\"form-control\"\r\n                          maxLength=\"20\"\r\n                          value={form.fullName}\r\n                          onMouseLeave={(e) => e.target.checkValidity()}\r\n                          pattern=\"^[a-zA-Z_ ]*$\"\r\n                          onChange={(e) =>\r\n                            e.target.validity.valid &&\r\n                            setForm({ ...form, fullName: e.target.value })\r\n                          }\r\n                        />\r\n                      </div>\r\n                      <div className=\"col-md-3\">\r\n                        Phone Number\r\n                        <input\r\n                          type=\"text\"\r\n                          placeholder=\"+91\"\r\n                          maxLength=\"10\"\r\n                          className=\"form-control\"\r\n                          value={form.phoneNo}\r\n                          pattern=\"[0-9]*\"\r\n                          onChange={(e) =>\r\n                            e.target.validity.valid &&\r\n                            setForm({ ...form, phoneNo: e.target.value })\r\n                          }\r\n                        />\r\n                      </div>\r\n                      <div className=\"col-md-5\">\r\n                        Email\r\n                        <input\r\n                          type=\"email\"\r\n                          placeholder=\"ex@domain.com\"\r\n                          className=\"form-control\"\r\n                          value={form.email}\r\n                          onChange={(e) =>\r\n                            setForm({ ...form, email: e.target.value })\r\n                          }\r\n                        />\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"row mt-3\">\r\n                      <div className=\"col-12\">Address</div>\r\n                      <div className=\"col-md-8 mb-3\">\r\n                        <input\r\n                          type=\"text\"\r\n                          placeholder=\"House No  / Floor No / Appartment Name\"\r\n                          maxLength=\"100\"\r\n                          className=\"form-control\"\r\n                          value={form.houseNo}\r\n                          onChange={(e) =>\r\n                            setForm({ ...form, houseNo: e.target.value })\r\n                          }\r\n                        />\r\n                      </div>\r\n                      <div className=\"col-md-4 mb-3\">\r\n                        <input\r\n                          type=\"text\"\r\n                          placeholder=\"Locality\"\r\n                          maxLength=\"50\"\r\n                          className=\"form-control\"\r\n                          value={form.locality}\r\n                          pattern=\"^[a-zA-Z_ ]*$\"\r\n                          onChange={(e) =>\r\n                            e.target.validity.valid &&\r\n                            setForm({ ...form, locality: e.target.value })\r\n                          }\r\n                        />\r\n                      </div>\r\n                      <div className=\"col-md-6 mb-3\">\r\n                        <input\r\n                          type=\"text\"\r\n                          placeholder=\"City\"\r\n                          maxLength=\"50\"\r\n                          className=\"form-control\"\r\n                          value={form.city}\r\n                          pattern=\"^[a-zA-Z_ ]*$\"\r\n                          onChange={(e) =>\r\n                            e.target.validity.valid &&\r\n                            setForm({ ...form, city: e.target.value })\r\n                          }\r\n                        />\r\n                      </div>\r\n                      <div className=\"col-md-3 mb-3\">\r\n                        <input\r\n                          type=\"text\"\r\n                          placeholder=\"Pincode\"\r\n                          className=\"form-control\"\r\n                          maxLength=\"6\"\r\n                          value={form.pincode}\r\n                          pattern=\"[0-9]*\"\r\n                          onChange={(e) => {\r\n                            e.target.validity.valid &&\r\n                              setForm({\r\n                                ...form,\r\n                                pincode: e.target.value,\r\n                              });\r\n                          }}\r\n                        />\r\n                      </div>\r\n                      <div className=\"col-md-3 mb-3\">\r\n                        <input\r\n                          type=\"text\"\r\n                          value=\"India\"\r\n                          maxLength=\"30\"\r\n                          className=\"form-control\"\r\n                          disabled\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"col-4 PlanDet plansGrid p-4\">\r\n                    {plans.map((p) =>\r\n                      p.Name === form.plan ? (\r\n                        <>\r\n                          <div className=\"plans noplans\">\r\n                            <div className=\"price\">\r\n                              <h5>{p.Name}</h5>\r\n                              <p>Rs. {p.Price} </p>\r\n                            </div>\r\n                            <div className=\"features\">\r\n                              {p.features.map((d) => (\r\n                                <div className=\"col-6\">\r\n                                  <div className=\"d-flex\">\r\n                                    <i class=\"gg-check\"></i>\r\n                                    <p>{d.name}</p>\r\n                                  </div>\r\n                                </div>\r\n                              ))}\r\n                            </div>\r\n                            <div className=\"time\">\r\n                              <div className=\"wtICON\">\r\n                                <i class=\"gg-alarm\"></i>\r\n                                <p>Duration</p>\r\n                              </div>\r\n                              <p>{p.Duration}</p>\r\n                            </div>\r\n                          </div>\r\n                        </>\r\n                      ) : null\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </CSSTransition>\r\n          )}\r\n\r\n          {step === 3 && (\r\n            <CSSTransition in={animate} timeout={1000} classNames=\"animate\">\r\n              <div className=\"step3\">\r\n                <div className=\"row\">\r\n                  <div className=\"col-12 my-3\">\r\n                    <h4 style={{ fontWeight: 600 }}>Summary</h4>\r\n                  </div>\r\n                  <div className=\"col-md-8\">\r\n                    <div className=\"row\">\r\n                      <div className=\"col-12\">\r\n                        <div className=\"card shadow p-4\">\r\n                          <h5>Personal Details</h5>\r\n                          <div className=\"row details\">\r\n                            <div className=\"col-md-3\">\r\n                              <p>Name</p>\r\n                              <h6> {form.fullName} </h6>\r\n                            </div>\r\n                            <div className=\"col-md-3\">\r\n                              <p>Phone no</p>\r\n                              <h6>{form.phoneNo}</h6>\r\n                            </div>\r\n                            <div className=\"col-md-6\">\r\n                              <p>Email</p>\r\n                              <h6>{form.email}</h6>\r\n                            </div>\r\n                            <div className=\"col-12 mt-3\">\r\n                              <p>Address</p>\r\n                              <h6>\r\n                                {form.houseNo}, {form.locality}, {form.city},{' '}\r\n                                {form.pincode}, {form.country}\r\n                              </h6>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div className=\"col-12\">\r\n                        <div className=\"card shadow p-4 mt-3\">\r\n                          <h5>Plan & Booking Details</h5>\r\n                          <div className=\"row details\">\r\n                            <div className=\"col-4 mt-2\">\r\n                              <p>Plans</p>\r\n                              <h6>{form.plan}</h6>\r\n                            </div>\r\n                            <div className=\"col-4 mt-2\">\r\n                              <p>Car Brand</p>\r\n                              <h6>{form.vehicleBrand}</h6>\r\n                            </div>\r\n                            <div className=\"col-4 mt-2\">\r\n                              <p>Car Model</p>\r\n                              <h6>{form.vehicleModel}</h6>\r\n                            </div>\r\n\r\n                            <div className=\"col-4 mt-2\">\r\n                              <p>Date</p>\r\n                              <h6>{form.date}</h6>\r\n                            </div>\r\n                            <div className=\"col-4 mt-2\">\r\n                              <p>Time</p>\r\n                              <h6>{form.time}</h6>\r\n                            </div>\r\n                            <div className=\"col-4 mt-2\">\r\n                              <p>Duration</p>\r\n                              <h6>{form.duration}</h6>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"col-md-4\">\r\n                    <div className=\"row\">\r\n                      <div className=\"col-12\">\r\n                        <div className=\"card shadow p-4\">\r\n                          <h4>Price Breakdown</h4>\r\n                          <div className=\"px-3 mt-2\">\r\n                            <div className=\"d-flex justify-content-between\">\r\n                              <p>price</p>\r\n                              <h6>Rs {form.price}</h6>\r\n                            </div>\r\n                            <div className=\"d-flex justify-content-between\">\r\n                              <p>Pick & Drop charges</p>\r\n                              <h6>Free</h6>\r\n                            </div>\r\n                            <div className=\"d-flex justify-content-between final\">\r\n                              <p>Total</p>\r\n                              <h5>Rs {form.price}</h5>\r\n                            </div>\r\n                          </div>\r\n                          <hr />\r\n                          <h5>Payment Method</h5>\r\n\r\n                          <div className=\"px-3\">\r\n                            <div className=\"cusRadio\">\r\n                              <input\r\n                                class=\"m-auto\"\r\n                                type=\"radio\"\r\n                                value=\"onDelivery\"\r\n                                name=\"pay\"\r\n                                id=\"COD\"\r\n                                onClick={(e) =>\r\n                                  setForm({\r\n                                    ...form,\r\n                                    paymentMethod: e.target.value,\r\n                                  })\r\n                                }\r\n                                checked={\r\n                                  form.paymentMethod === 'onDelivery'\r\n                                    ? true\r\n                                    : false\r\n                                }\r\n                              />\r\n                              <label htmlFor=\"COD\">Pay on delivery</label>\r\n                            </div>\r\n                            <div className=\"cusRadio\">\r\n                              <input\r\n                                class=\"m-auto\"\r\n                                type=\"radio\"\r\n                                value=\"Online\"\r\n                                name=\"pay\"\r\n                                id=\"OP\"\r\n                                onClick={(e) =>\r\n                                  setForm({\r\n                                    ...form,\r\n                                    paymentMethod: e.target.value,\r\n                                  })\r\n                                }\r\n                                checked={\r\n                                  form.paymentMethod === 'Online' ? true : false\r\n                                }\r\n                              />\r\n                              <label htmlFor=\"OP\">Online Payment</label>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </CSSTransition>\r\n          )}\r\n\r\n          <div className=\"sFoot\">\r\n            <p\r\n              className={step === 1 ? 'prev disable' : 'prev'}\r\n              onClick={() => handlePrevious()}\r\n            >\r\n              Previous\r\n            </p>\r\n\r\n            <button className=\"Continue\" onClick={() => handleContinue()}>\r\n              {step !== 3 ? 'Continue' : 'Confirm Booking'}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Maintain;\r\n","C:\\Users\\Deepakshi\\Desktop\\react\\crepairs-mern-project\\frontend\\src\\pages\\Dashboard\\Dashboard.js",["137","138","139"],"import axios from 'axios';\r\nimport React, { useContext } from 'react';\r\nimport { myContext } from '../../Context';\r\nimport { toast } from 'react-toastify';\r\nimport { NavLink, useHistory, useRouteMatch } from 'react-router-dom';\r\nimport { BrowserRouter as Router, Switch, Route, Link } from 'react-router-dom';\r\nimport Wash from '../Wash';\r\nimport './dash.css';\r\nimport { ManageCars } from './ManageCars';\r\nimport { ManageUsers } from './ManageUsers';\r\nimport CarList from './CarList';\r\nimport PaymentsList from './PaymentsList';\r\nimport { useState } from 'react';\r\nimport { useEffect } from 'react';\r\nimport { Dbooking } from './Dbooking';\r\nimport BookDetails from './BookDetails';\r\nimport Items from './Items';\r\n\r\nfunction Dashboard() {\r\n  let { path, url } = useRouteMatch();\r\n  const history = useHistory();\r\n  const { user, auth, setAuth, setHeader } = useContext(myContext);\r\n  setHeader(false);\r\n\r\n  function logout() {\r\n    axios\r\n      .get('/api/auth/logout', {}, { withCredentials: true })\r\n      .then(() => {\r\n        setAuth(false);\r\n        toast.info('Success logout');\r\n        history.push('/');\r\n      })\r\n      .catch((er) => console.log(er));\r\n  }\r\n\r\n  if (user) {\r\n    return (\r\n      <div>\r\n        <div className=\"d-flex\">\r\n          <div className=\"sidebar dark\">\r\n            <Link to=\"/\">\r\n              <div className=\"logo \">CREPAIRS</div>\r\n            </Link>\r\n\r\n            <div className=\"dashnav\">\r\n              <ul>\r\n                <NavLink to={`${url}`} exact activeClassName=\"active\">\r\n                  <li>\r\n                    <i class=\"fal fa-home\"></i>\r\n                    <span>Dashboard</span>\r\n                  </li>\r\n                </NavLink>\r\n\r\n                <NavLink to={`${url}/bookings`} exact activeClassName=\"active\">\r\n                  <li>\r\n                    <i class=\"fal fa-calendar-alt\"></i>\r\n                    <span>Bookings</span>\r\n                  </li>\r\n                </NavLink>\r\n\r\n                <NavLink to={`${url}/payments`} exact activeClassName=\"active\">\r\n                  <li>\r\n                    <i class=\"fal fa-rupee-sign\"></i>\r\n                    <span>Payments</span>\r\n                  </li>\r\n                </NavLink>\r\n\r\n                <NavLink to={`${url}/cars`} exact activeClassName=\"active\">\r\n                  <li>\r\n                    <i class=\"fal fa-car \"></i>\r\n                    <span>Vehicles</span>\r\n                  </li>\r\n                </NavLink>\r\n\r\n                <NavLink to={`${url}/users`} activeClassName=\"active\">\r\n                  <li>\r\n                    <i class=\"fal fa-user-shield\"></i>\r\n                    <span>Users</span>\r\n                  </li>\r\n                </NavLink>\r\n\r\n                <NavLink to={`${url}/products`} activeClassName=\"active\">\r\n                  <li>\r\n                    <i class=\"fal fa-shopping-cart\"></i>\r\n                    <span>Products</span>\r\n                  </li>\r\n                </NavLink>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n\r\n          <header className=\"sidetop\">\r\n            <div className=\"content\">\r\n              <div className=\"userwithDrop\">\r\n                <div className=\"userbadge\">\r\n                  <div className=\"d-flex\">\r\n                    <div className=\"col myuser text-right px-2\">\r\n                      <h6> {user.name}</h6>\r\n                      <p> {user.isAdmin ? 'Admin' : 'Customer'}</p>\r\n                    </div>\r\n                    <img\r\n                      src={\r\n                        (user.profileImg && user.profileImg) ||\r\n                        require('../../assets/dp.png').default\r\n                      }\r\n                      alt=\"profile\"\r\n                      className=\"rounded-circle\"\r\n                      height=\"35px\"\r\n                      width=\"35px\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div className=\"user-dropdown\">\r\n                  <ul className=\"drop-li\">\r\n                    <li>\r\n                      <Link to=\"/user/profile\">\r\n                        <i className=\"far fa-user\"></i>\r\n                        <span> Profile</span>\r\n                      </Link>\r\n                    </li>\r\n                    {user.isAdmin ? (\r\n                      <li>\r\n                        <Link to=\"/dashboard\">\r\n                          <i className=\"far fa-clipboard-list-check\"></i>\r\n                          <span> Dashboard</span>\r\n                        </Link>\r\n                      </li>\r\n                    ) : (\r\n                      <li>\r\n                        <Link to=\"/user/booking\">\r\n                          <i className=\"far fa-clipboard-list-check\"></i>\r\n                          <span> My Bookings </span>\r\n                        </Link>\r\n                      </li>\r\n                    )}\r\n                    <li onClick={() => logout()}>\r\n                      <i className=\"far fa-sign-out-alt\"></i>\r\n                      <span> Logout</span>\r\n                    </li>\r\n                  </ul>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </header>\r\n\r\n          <div className=\"content-wrap\">\r\n            <Switch>\r\n              <Route exact path={`${path}`} component={Dash} />\r\n              <Route exact path={`${path}/bookings`} component={Dbooking} />\r\n              <Route\r\n                exact\r\n                path={`${path}/bookings/:id`}\r\n                component={BookDetails}\r\n              />\r\n              <Route exact path={`${path}/payments`} component={PaymentsList} />\r\n              <Route exact path={`${path}/cars`} component={ManageCars} />\r\n              <Route exact path={`${path}/cars/:id`} component={CarList} />\r\n              <Route exact path={`${path}/users`} component={ManageUsers} />\r\n              <Route exact path={`${path}/products`} component={Items} />\r\n            </Switch>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  } else {\r\n    return (\r\n      <div\r\n        className=\"col-12\"\r\n        style={{\r\n          minHeight: '100vh',\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          justifyContent: 'center',\r\n        }}\r\n      >\r\n        <div\r\n          class=\"spinner-border text-danger h3\"\r\n          style={{ width: '3rem', height: '3rem' }}\r\n          role=\"status\"\r\n        ></div>\r\n        <h4>Loading...</h4>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst Dash = () => {\r\n  const [booking, setbooking] = useState();\r\n  const [today, settoday] = useState();\r\n  useEffect(() => {\r\n    axios\r\n      .get('/api/book', { withCredentials: true })\r\n      .then((e) => setbooking(e.data))\r\n      .catch((err) => console.log(err));\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (booking) {\r\n      let today = booking.filter(\r\n        (e) =>\r\n          new Date(e.scheduleDate).toISOString().split('T')[0] ===\r\n            new Date().toISOString().split('T')[0] && e.completed === false\r\n      );\r\n      settoday(today.length);\r\n    }\r\n  }, [booking]);\r\n\r\n  console.log(booking);\r\n\r\n  return (\r\n    <div className=\"dash-home container\">\r\n      <div className=\"row topnotify\">\r\n        <div className=\"col-md-3\">\r\n          <div className=\"card c1\">\r\n            <div className=\"cicon\">\r\n              <i class=\"fal fa-bell-plus fa-2x\"></i>\r\n            </div>\r\n            <div className=\"ctext\">\r\n              <span>{today && today}</span>\r\n              <h6>Pickups Today</h6>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"col-md-3\">\r\n          <div className=\"card c2\">\r\n            <div className=\"cicon\">\r\n              <i class=\"fal fa-conveyor-belt fa-2x\"></i>\r\n            </div>\r\n            <div className=\"ctext\">\r\n              <span>{booking && booking.length}</span>\r\n              <h6>Total Bookings</h6>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"col-md-3\">\r\n          <div className=\"card c4\">\r\n            <div className=\"cicon\">\r\n              <i class=\"fal fa-calendar-check fa-2x\"></i>\r\n            </div>\r\n            <div className=\"ctext\">\r\n              <span>\r\n                {booking && booking.filter((b) => b.completed === false).length}\r\n              </span>\r\n              <h6>Pending</h6>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"col-md-3\">\r\n          <div className=\"card c3\">\r\n            <div className=\"cicon\">\r\n              <i class=\"fal fa-rupee-sign fa-2x\"></i>\r\n            </div>\r\n            <div className=\"ctext\">\r\n              <span>\r\n                {booking &&\r\n                  booking.length > 0 &&\r\n                  booking\r\n                    .map((i) => i.payment.Paid === true && i.payment.amount)\r\n                    .reduce((prev, next) => prev + next)}\r\n              </span>\r\n              <h6>Total Earnings</h6>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Dashboard;\r\n","C:\\Users\\Deepakshi\\Desktop\\react\\crepairs-mern-project\\frontend\\src\\pages\\Booking.js",["140","141","142","143","144","145","146"],"import axios from 'axios';\r\nimport React, { useContext, useEffect, useState } from 'react';\r\nimport { Link, useRouteMatch } from 'react-router-dom';\r\nimport { toast } from 'react-toastify';\r\nimport { myContext } from '../Context';\r\nimport './profile.css';\r\nimport { convertToHTML } from 'draft-convert';\r\nimport DOMPurify from 'dompurify';\r\n\r\nfunction Booking() {\r\n  let { path, url } = useRouteMatch();\r\n  const { user, auth, setHeader, refresh } = useContext(myContext);\r\n  setHeader(true);\r\n  const [data, setdata] = useState(null);\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .get(`/api/book/${user._id}`, { withCredentials: true })\r\n      .then((d) => setdata(d.data))\r\n      .catch((e) => console.log(e));\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"col-12 col-md-8 shadow profilecard  card p-5\">\r\n      <h3>Your Bookings</h3>\r\n      <div className=\"row\">\r\n        {data &&\r\n          data.map((d) => (\r\n            <>\r\n              <div className=\"col-12 col-lg-6 my-3\">\r\n                <div className=\"row booking_card p-2\">\r\n                  <div className=\"col-12\">\r\n                    <div className=\"row\">\r\n                      <div className=\"col-6\">\r\n                        <span className=\"title\">Service</span>\r\n                        <p>{d.service.serviceType}</p>\r\n                      </div>\r\n                      <div className=\"col-6\">\r\n                        {d.service.serviceType === 'Repair' ? (\r\n                          <>\r\n                            <span className=\"title\">Car</span>\r\n                            <p>\r\n                              {d.vehicle.brand} {d.vehicle.model}\r\n                            </p>\r\n                          </>\r\n                        ) : (\r\n                          <>\r\n                            <span className=\"title\">Plan</span>\r\n                            <p>{d.service.plan}</p>\r\n                          </>\r\n                        )}\r\n                      </div>\r\n                      <div className=\"col-12 my-1\">\r\n                        <span className=\"title\">Scheduled Date & Time</span>\r\n                        <div className=\"d-flex irow\">\r\n                          <i class=\"far fa-calendar-alt\"></i>\r\n                          <p>{new Date(d.scheduleDate).toDateString()}</p>\r\n                          <i class=\"fal fa-clock\"></i>\r\n                          <p>{d.scheduleTime}</p>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <hr className=\"light\" />\r\n                  <div className=\"col-12 d-flex justify-content-between align-items-center\">\r\n                    <p className=\"price\">\r\n                      {d.service.serviceType === 'Repair'\r\n                        ? ''\r\n                        : `Rs. ${d.payment.amount}`}\r\n                    </p>\r\n                    <Link className=\"btn buttonView\" to={`${url}/${d._id}`}>\r\n                      View\r\n                    </Link>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </>\r\n          ))}\r\n        {/*  MINE END*/}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport function ViewBooking({ match }) {\r\n  const [data, setdata] = useState(null);\r\n  useEffect(() => {\r\n    axios\r\n      .get(`/api/book/find/${match.params.id}`, { withCredentials: true })\r\n      .then((d) => setdata(d.data))\r\n      .catch((e) => console.log(e));\r\n  }, []);\r\n\r\n  const createMarkup = (html) => {\r\n    return {\r\n      __html: DOMPurify.sanitize(html),\r\n    };\r\n  };\r\n\r\n  // data && data.descBox && convertContentToHTML();\r\n\r\n  // wysiwyg END\r\n\r\n  return (\r\n    <div className=\"col-12 col-md-8 shadow profilecard  card p-5\">\r\n      <h3>\r\n        Your Booking for {data && data.service.serviceType}{' '}\r\n        {data && data.completed && (\r\n          <span class=\"badge badge-success align-self-right\">Completed</span>\r\n        )}\r\n      </h3>\r\n      <div className=\"row\">\r\n        {data && (\r\n          <>\r\n            <div className=\"col-12 my-3\">\r\n              <div className=\"row booking_card p-2\">\r\n                <div className=\"col-12\">\r\n                  <div className=\"row\">\r\n                    <div className=\"col-12 mt-2\">\r\n                      <h6>Plan & Service Details</h6>\r\n                    </div>\r\n                    <div className=\"col-3\">\r\n                      <span className=\"title\">Service</span>\r\n                      <p>{data.service.serviceType}</p>\r\n                    </div>\r\n                    <div className=\"col-3\">\r\n                      {data.service.serviceType === 'Repair' ? (\r\n                        <>\r\n                          <span className=\"title\">Car</span>\r\n                          <p>\r\n                            {data.vehicle.brand} {data.vehicle.model}\r\n                          </p>\r\n                        </>\r\n                      ) : (\r\n                        <>\r\n                          <span className=\"title\">Plan</span>\r\n                          <p>{data.service.plan}</p>\r\n                        </>\r\n                      )}\r\n                    </div>\r\n                    <div className=\"col-6\">\r\n                      <span className=\"title\">Scheduled Date & Time</span>\r\n                      <div className=\"d-flex irow\">\r\n                        <i class=\"far fa-calendar-alt\"></i>\r\n                        <p>{new Date(data.scheduleDate).toDateString()}</p>\r\n                        <i class=\"fal fa-clock\"></i>\r\n                        <p>{data.scheduleTime}</p>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col-3\">\r\n                      <span className=\"title\">Car Manufacturer</span>\r\n                      <p>{data.vehicle.brand}</p>\r\n                    </div>\r\n                    <div className=\"col-8\">\r\n                      {data.service.serviceType === 'Repair' ? (\r\n                        <>\r\n                          <span className=\"title d-block\">Services Opted</span>\r\n                          {data.service.repair.map((r) => (\r\n                            <p className=\"d-inline mr-2\">{r}, </p>\r\n                          ))}\r\n                        </>\r\n                      ) : data.service.serviceType === 'Maintenance' ? (\r\n                        <>\r\n                          <span className=\"title\">Vehicle Model</span>\r\n                          <p>{data.vehicle.model}</p>\r\n                        </>\r\n                      ) : (\r\n                        <>\r\n                          <span className=\"title\">Vehicle Type</span>\r\n                          <p>{data.vehicle.vehicleType}</p>\r\n                        </>\r\n                      )}\r\n                    </div>\r\n                    {data.vehicle.reg && data.vehicle.reg.length > 9 && (\r\n                      <div className=\"col-4 mt-2\">\r\n                        <span className=\"title\">Vehicle No</span>\r\n                        <p>{data.vehicle.reg}</p>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n                <div className=\"col-12\">\r\n                  <hr />\r\n                  <div className=\"row\">\r\n                    <div className=\"col-12 mt-2\">\r\n                      <h6>User & Location Info</h6>\r\n                    </div>\r\n                    <div className=\"col-3\">\r\n                      <span className=\"title\">Name</span>\r\n                      <p>{data.user_id.name}</p>\r\n                    </div>\r\n                    <div className=\"col-3\">\r\n                      <span className=\"title\">Contact No</span>\r\n                      <p>{data.user_id.phone}</p>\r\n                    </div>\r\n                    <div className=\"col-6\">\r\n                      <span className=\"title\">Service Location</span>\r\n                      <p>{data.location}</p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                {data && data.service.serviceType === 'Repair' && data.descBox && (\r\n                  <>\r\n                    <div className=\"col-12\">\r\n                      <hr />\r\n                      <div className=\"row\">\r\n                        <div className=\"col-12 mt-2\">\r\n                          <h6>Description</h6>\r\n                          <div\r\n                            className=\"preview\"\r\n                            dangerouslySetInnerHTML={createMarkup(\r\n                              JSON.parse(data.descBox)\r\n                            )}\r\n                          ></div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </>\r\n                )}\r\n\r\n                <div className=\"col-12\">\r\n                  <hr />\r\n                  <div className=\"row\">\r\n                    <div className=\"col-12 mt-2\">\r\n                      <h6>Payment Info</h6>\r\n                    </div>\r\n                    <div className=\"col-3\">\r\n                      <span className=\"title\">Payment Mode</span>\r\n                      <p>{data.payment.mode}</p>\r\n                    </div>\r\n                    {data.service.serviceType === 'Repair' ? (\r\n                      <>\r\n                        <div className=\"col-8\">\r\n                          <span className=\"title\">Note</span>\r\n                          <p>\r\n                            Estimated cost will be provided later by our\r\n                            mechanic\r\n                          </p>\r\n                        </div>\r\n                      </>\r\n                    ) : (\r\n                      <>\r\n                        <div className=\"col-3\">\r\n                          <span className=\"title\">Payment Status</span>\r\n                          <p>{data.payment.Paid ? 'Paid' : 'Pending'}</p>\r\n                        </div>\r\n                        <div className=\"col-6\">\r\n                          <span className=\"title\">Amount</span>\r\n                          <p> Rs {data.payment.amount} </p>\r\n                        </div>\r\n                      </>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"foot mt-3 text-right\">\r\n                {/* {data && data.completed == false && (\r\n                  // <p className=\"title text-danger\">Cancel Booking</p>\r\n                )} */}\r\n              </div>\r\n            </div>\r\n          </>\r\n        )}\r\n        {/*  MINE END*/}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Booking;\r\n","C:\\Users\\Deepakshi\\Desktop\\react\\crepairs-mern-project\\frontend\\src\\pages\\Dashboard\\ManageCars.js",["147","148"],"import React, { useContext, useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport { toast } from 'react-toastify';\r\nimport { myContext } from '../../Context';\r\nimport { Link, useRouteMatch } from 'react-router-dom';\r\n\r\nexport const ManageCars = () => {\r\n  let { path, url } = useRouteMatch();\r\n\r\n  const { user } = useContext(myContext);\r\n  const [modal, setmodal] = useState(false);\r\n  const [brand, setbrand] = useState({\r\n    name: null,\r\n    image: null,\r\n  });\r\n  const [cars, setcars] = useState(null);\r\n\r\n  useEffect(() => {\r\n    fetchbrands();\r\n  }, []);\r\n\r\n  function fetchbrands() {\r\n    axios\r\n      .get('/api/cars/', { withCredentials: true })\r\n      .then(({ data }) => {\r\n        setcars(data);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  function addBrand(e) {\r\n    e.preventDefault();\r\n\r\n    const data = new FormData();\r\n    data.append('brandIcon', brand.image);\r\n    data.append('name', brand.name);\r\n    axios\r\n      .post('/api/cars/addbrand', data, { withCredentials: true })\r\n      .then((d) => {\r\n        toast.success('Added');\r\n        setbrand({\r\n          name: null,\r\n          image: null,\r\n        });\r\n        fetchbrands();\r\n      })\r\n      .catch((e) => console.log('error'));\r\n    setmodal(!modal);\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"container\">\r\n        <div className=\"row\">\r\n          <div className=\"col-10\">\r\n            <h3>Manage Manufacturers & Cars </h3>\r\n          </div>\r\n        </div>\r\n        <div className=\"row my-4\">\r\n          {cars &&\r\n            cars.map((c) => (\r\n              <div className=\"col-md-2\">\r\n                <Link to={`${url}/${c._id}`}>\r\n                  <div className=\"card \">\r\n                    <img src={c.brandImage} alt=\"Brand\" />\r\n                  </div>\r\n                </Link>\r\n              </div>\r\n            ))}\r\n\r\n          <div className=\"col-md-2\">\r\n            <div className=\"card brand-card\" onClick={() => setmodal(true)}>\r\n              <i className=\"fal fa-plus fa-5x\"></i>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* <!-- Modal --> */}\r\n        {modal && (\r\n          <div className=\"model-out-overlay\">\r\n            <div className=\"custom-model\">\r\n              <div className=\"col-6 card p-4\">\r\n                <form onSubmit={addBrand}>\r\n                  <div className=\"row\">\r\n                    <div className=\"col-12 mb-3\">\r\n                      <h4>Add Brand</h4>\r\n                      <input\r\n                        type=\"text\"\r\n                        className=\"form-control\"\r\n                        placeholder=\"Manufacturer Name\"\r\n                        value={brand.name}\r\n                        onChange={(b) =>\r\n                          setbrand({ ...brand, name: b.target.value })\r\n                        }\r\n                        required\r\n                      />\r\n                    </div>\r\n                    <div className=\"col-12 mb-3\">\r\n                      <input\r\n                        type=\"file\"\r\n                        className=\"form-control\"\r\n                        accept=\"image/*\"\r\n                        name=\"brandicon\"\r\n                        onChange={(b) =>\r\n                          setbrand({ ...brand, image: b.target.files[0] })\r\n                        }\r\n                      />\r\n                    </div>\r\n                    <div className=\"col-12\">\r\n                      <button className=\"modal-sub mr-3\">Add Brand</button>\r\n                      <button\r\n                        className=\"btn btn-secondary\"\r\n                        onClick={() => setmodal(false)}\r\n                      >\r\n                        Close\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </form>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n        {/* <!-- END Modal --> */}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","C:\\Users\\Deepakshi\\Desktop\\react\\crepairs-mern-project\\frontend\\src\\pages\\Profile.js",["149","150","151","152","153","154","155"],"import axios from 'axios';\r\nimport React, { useContext, useEffect, useState } from 'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { toast } from 'react-toastify';\r\nimport { myContext } from '../Context';\r\nimport './profile.css';\r\n\r\nfunction Profile() {\r\n  const { user, auth, setHeader, refresh } = useContext(myContext);\r\n  setHeader(true);\r\n  function updateProfile() {\r\n    axios\r\n      .patch('/api/user/edit', { form }, { withCredentials: true })\r\n      .then((done) => toast.success('Updated'))\r\n      .catch((err) => toast.error('Error'));\r\n  }\r\n  const [dp, setdp] = useState({\r\n    file: null,\r\n    temp: null,\r\n  });\r\n\r\n  const [form, setForm] = useState({\r\n    fullName: user.name,\r\n    email: user.email,\r\n    phone: user.phone,\r\n    houseNo: user.address ? user.address.houseNo : null,\r\n    locality: user.address ? user.address.locality : null,\r\n    city: user.address ? user.address.city : null,\r\n    pincode: user.address ? user.address.pincode : null,\r\n    country: 'INDIA',\r\n  });\r\n\r\n  function imageRemove() {\r\n    if (dp.file || dp.temp) {\r\n      setdp({ temp: null, file: null });\r\n    }\r\n    if (user.profileImg && dp.file === null) {\r\n      axios\r\n        .post(\r\n          '/api/user/rmvdp',\r\n          { img: user.profileImg },\r\n          { withCredentials: true }\r\n        )\r\n        .then((res) => {\r\n          refresh();\r\n          setdp({ temp: null, file: null });\r\n          toast.success('Image removed');\r\n        })\r\n        .catch((err) => console.log(err));\r\n    }\r\n  }\r\n\r\n  function imageupload() {\r\n    const data = new FormData();\r\n    data.append('pic', dp.file);\r\n    if (dp.file) {\r\n      axios\r\n        .post('/api/user/setdp', data, { withCredentials: true })\r\n        .then((res) => {\r\n          refresh();\r\n          URL.revokeObjectURL(dp.temp);\r\n          setdp({ ...dp, file: null });\r\n          toast.success('Image updated');\r\n        })\r\n        .catch((err) => console.log(err));\r\n    } else toast.warning('Please select an image first');\r\n  }\r\n\r\n  return (\r\n    <div className=\"col-md-6 shadow card profilecard p-5\">\r\n      <div className=\"row\">\r\n        <div className=\"col-12\">\r\n          <div className=\"row\">\r\n            <div className=\"col-3\">\r\n              <div className=\"profile_pic\">\r\n                <img\r\n                  src={\r\n                    (dp.temp && dp.temp) ||\r\n                    (user.profileImg && user.profileImg) ||\r\n                    require('../assets/dp.png').default\r\n                  }\r\n                  alt=\"pic\"\r\n                  className=\"rounded-circle\"\r\n                  height=\"100px\"\r\n                  width=\"100px\"\r\n                />\r\n                <label htmlFor=\"dp\" className=\"selectPic\">\r\n                  <i class=\"fal fa-camera-alt\"></i>\r\n                </label>\r\n                <input\r\n                  type=\"file\"\r\n                  name=\"profile\"\r\n                  id=\"dp\"\r\n                  accept=\"image/*\"\r\n                  onChange={(e) => {\r\n                    setdp({\r\n                      temp: URL.createObjectURL(e.target.files[0]),\r\n                      file: e.target.files[0],\r\n                    });\r\n                  }}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"col-9 mt-auto mb-3\">\r\n              <h4 className=\"ml-3\">{user.name}</h4>\r\n              <button\r\n                className=\"btn profile-btn upload\"\r\n                onClick={() => imageupload()}\r\n              >\r\n                Upload\r\n              </button>\r\n              <button className=\"btn profile-btn\" onClick={() => imageRemove()}>\r\n                Remove\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <hr className=\"hr-custom my-4\" />\r\n        <div className=\"col-12 mb-3\">\r\n          <h6>Full Name</h6>\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            onChange={(e) => setForm({ ...form, fullName: e.target.value })}\r\n            value={form.fullName}\r\n          />\r\n        </div>\r\n        <div className=\"col-6\">\r\n          <h6>Email</h6>\r\n          <input\r\n            type=\"email\"\r\n            className=\"form-control\"\r\n            onChange={(e) => setForm({ ...form, email: e.target.value })}\r\n            value={form.email}\r\n            disabled\r\n          />\r\n        </div>\r\n        <div className=\"col-6\">\r\n          <h6>Phone No</h6>\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            onChange={(e) => setForm({ ...form, phone: e.target.value })}\r\n            value={form.phone}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"col-12\">\r\n          <hr className=\"hr-custom my-4\" />\r\n          <div className=\"row mt-3\">\r\n            <div className=\"col-12\">Address</div>\r\n            <div className=\"col-md-12 mb-3\">\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"House No  / Floor No / Appartment Name\"\r\n                maxLength=\"100\"\r\n                className=\"form-control\"\r\n                value={form.houseNo}\r\n                onChange={(e) => setForm({ ...form, houseNo: e.target.value })}\r\n              />\r\n            </div>\r\n            <div className=\"col-md-5 mb-3\">\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Locality\"\r\n                maxLength=\"50\"\r\n                className=\"form-control\"\r\n                value={form.locality}\r\n                onChange={(e) => setForm({ ...form, locality: e.target.value })}\r\n              />\r\n            </div>\r\n            <div className=\"col-md-4 mb-3\">\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"City\"\r\n                maxLength=\"50\"\r\n                className=\"form-control\"\r\n                value={form.city}\r\n                onChange={(e) => setForm({ ...form, city: e.target.value })}\r\n              />\r\n            </div>\r\n            <div className=\"col-md-3 mb-3\">\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Pincode\"\r\n                className=\"form-control\"\r\n                value={form.pincode}\r\n                onChange={(e) => setForm({ ...form, pincode: e.target.value })}\r\n              />\r\n            </div>\r\n            <div className=\"col-md-12 mb-3\">\r\n              <input\r\n                type=\"text\"\r\n                value=\"India\"\r\n                maxLength=\"30\"\r\n                className=\"form-control\"\r\n                disabled\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"col-12 text-right mt-4\">\r\n          <button\r\n            type=\"submit\"\r\n            className=\"btn btn-primary\"\r\n            onClick={() => updateProfile()}\r\n          >\r\n            Save Changes\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Profile;\r\n\r\nexport const Cpassword = () => {\r\n  const { user, auth, setHeader, refresh, setAuth } = useContext(myContext);\r\n  const history = useHistory();\r\n\r\n  const [pass, setpass] = useState({\r\n    current: null,\r\n    new: null,\r\n    confirm: null,\r\n  });\r\n\r\n  function logout() {\r\n    axios\r\n      .get('/api/auth/logout', {}, { withCredentials: true })\r\n      .then(() => {\r\n        setAuth(false);\r\n        history.push('/signin');\r\n      })\r\n      .catch((er) => console.log(er));\r\n  }\r\n\r\n  function changepass() {\r\n    if (pass.new === pass.confirm) {\r\n      axios\r\n        .post('/api/user/changepass', { pass }, { withCredentials: true })\r\n        .then(() => {\r\n          toast.success('password changed');\r\n          setpass({ current: null, new: null, confirm: null });\r\n          logout();\r\n        })\r\n        .catch((err) => toast.error('current password is incorrect'));\r\n    } else toast.error('password does not match');\r\n  }\r\n\r\n  return (\r\n    <div className=\"col-md-6 shadow card profilecard p-5\">\r\n      <h3>Change Password</h3>\r\n      <div className=\"row mt-3\">\r\n        <div className=\"col-12 mb-3\">\r\n          <h6>Current Password</h6>\r\n          <input\r\n            type=\"password\"\r\n            className=\"form-control\"\r\n            value={pass.current}\r\n            onChange={(p) => setpass({ ...pass, current: p.target.value })}\r\n          />\r\n        </div>\r\n        <div className=\"col-6\">\r\n          <h6>New password</h6>\r\n          <input\r\n            type=\"password\"\r\n            className=\"form-control\"\r\n            value={pass.new}\r\n            onChange={(p) => setpass({ ...pass, new: p.target.value })}\r\n          />\r\n        </div>\r\n        <div className=\"col-6\">\r\n          <h6>Confirm Password</h6>\r\n          <input\r\n            type=\"password\"\r\n            className=\"form-control\"\r\n            value={pass.confirm}\r\n            onChange={(p) => setpass({ ...pass, confirm: p.target.value })}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"col-12 text-right mt-4\">\r\n          <button\r\n            onClick={() => changepass()}\r\n            type=\"submit\"\r\n            className=\"btn btn-primary\"\r\n          >\r\n            Change password\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","C:\\Users\\Deepakshi\\Desktop\\react\\crepairs-mern-project\\frontend\\src\\pages\\Dashboard\\ManageUsers.js",["156","157"],"import axios from 'axios';\r\nimport React, { useContext, useEffect, useState } from 'react';\r\nimport { toast } from 'react-toastify';\r\nimport { myContext } from '../../Context';\r\n\r\nexport const ManageUsers = () => {\r\n  const [all, setall] = useState('');\r\n  const { user, setHeader } = useContext(myContext);\r\n  useEffect(() => {\r\n    axios\r\n      .get('/api/user/all', { withCredentials: true })\r\n      .then((d) => setall(d.data))\r\n      .catch((err) => alert('error in getting users'));\r\n  }, [deleteuser]);\r\n\r\n  function deleteuser(id, email) {\r\n    email !== user.email\r\n      ? axios\r\n          .post('/api/user/deleteuser', { id }, { withCredentials: true })\r\n          .then(() => toast.info('User deleted'))\r\n          .catch((err) => toast.error('error'))\r\n      : toast.warning('You cannot delete your account');\r\n  }\r\n  return (\r\n    <div className=\"row\">\r\n      <div className=\"container\">\r\n        <h4>Users list</h4>\r\n        {all && (\r\n          <div className=\"col-12 card my-3\">\r\n            <table class=\"table\">\r\n              <thead>\r\n                <tr>\r\n                  <th scope=\"col\">#</th>\r\n                  <th scope=\"col\">Name</th>\r\n                  <th scope=\"col\">Email</th>\r\n                  <th scope=\"col\">Role</th>\r\n                  <th scope=\"col\">Reg Date</th>\r\n                  <th scope=\"col\">Options</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {all.map((d, i) => (\r\n                  <tr>\r\n                    <th scope=\"row\">{i + 1}</th>\r\n                    <td>{d.name}</td>\r\n                    <td>{d.email}</td>\r\n                    <td>{d.isAdmin ? 'Admin' : 'Customer'}</td>\r\n                    <td>{new Date(d.registerDate).toDateString()}</td>\r\n                    <td>\r\n                      <button\r\n                        className=\"btn btn-danger\"\r\n                        onClick={() => deleteuser(d._id, d.email)}\r\n                      >\r\n                        <i class=\"fas fa-trash\"></i> Delete\r\n                      </button>\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","C:\\Users\\Deepakshi\\Desktop\\react\\crepairs-mern-project\\frontend\\src\\pages\\Dashboard\\CarList.js",["158","159"],"import React, { useContext, useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport { toast } from 'react-toastify';\r\n\r\nfunction CarList({ match }) {\r\n  const id = match.params.id;\r\n\r\n  const [modal, setmodal] = useState(false);\r\n  const [BrandModel, setBrandModel] = useState({\r\n    name: null,\r\n    image: null,\r\n  });\r\n  const [cars, setcars] = useState(null);\r\n\r\n  useEffect(() => {\r\n    fetchcars();\r\n  }, []);\r\n\r\n  function fetchcars() {\r\n    axios\r\n      .get(`/api/cars/model/${id}`, { withCredentials: true })\r\n      .then(({ data }) => {\r\n        setcars(data);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  function submitModel(e) {\r\n    e.preventDefault();\r\n\r\n    const data = new FormData();\r\n    data.append('modelImg', BrandModel.image);\r\n    data.append('model', BrandModel.name);\r\n    axios\r\n      .post(`/api/cars/model/${id}`, data, { withCredentials: true })\r\n      .then((d) => {\r\n        toast.success('Added');\r\n        setBrandModel({\r\n          name: null,\r\n          image: null,\r\n        });\r\n        fetchcars();\r\n      })\r\n      .catch((e) => console.log('error'));\r\n    setmodal(!modal);\r\n  }\r\n\r\n  return (\r\n    <div className=\"row\">\r\n      <div className=\"container\">\r\n        <div className=\"col-12 d-flex justify-content-between\">\r\n          <h3>Vehicle List</h3>\r\n          <button className=\"btn btn-info\" onClick={() => setmodal(!modal)}>\r\n            Add New Model\r\n          </button>\r\n        </div>\r\n\r\n        {/* <!-- Modal --> */}\r\n        {modal && (\r\n          <div className=\"model-out-overlay\">\r\n            <div className=\"custom-model\">\r\n              <div className=\"col-6 card p-4\">\r\n                <form onSubmit={submitModel}>\r\n                  <div className=\"row\">\r\n                    <div className=\"col-12 mb-3\">\r\n                      <h4>Add Model</h4>\r\n                      <input\r\n                        type=\"text\"\r\n                        className=\"form-control\"\r\n                        placeholder=\"Car Model Name\"\r\n                        value={BrandModel.name}\r\n                        onChange={(b) =>\r\n                          setBrandModel({ ...BrandModel, name: b.target.value })\r\n                        }\r\n                        required\r\n                      />\r\n                    </div>\r\n                    <div className=\"col-12 mb-3\">\r\n                      <input\r\n                        type=\"file\"\r\n                        className=\"form-control\"\r\n                        accept=\"image/*\"\r\n                        name=\"brandicon\"\r\n                        onChange={(b) =>\r\n                          setBrandModel({\r\n                            ...BrandModel,\r\n                            image: b.target.files[0],\r\n                          })\r\n                        }\r\n                      />\r\n                    </div>\r\n                    <div className=\"col-12\">\r\n                      <button className=\"modal-sub mr-3\">Add Model</button>\r\n                      <button\r\n                        className=\"btn btn-secondary\"\r\n                        onClick={() => setmodal(!modal)}\r\n                      >\r\n                        Close\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </form>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n        {/* <!-- END Modal --> */}\r\n\r\n        <div className=\"col-12 my-3\">\r\n          <div className=\"row carlist\">\r\n            {cars &&\r\n              cars.models.map((c) => (\r\n                <>\r\n                  {/* car card */}\r\n                  <div className=\"col-md-4 mb-4\">\r\n                    <div className=\"card px-4 py-3\">\r\n                      <img className=\"img-fluid\" src={c.Image} alt=\"\" />\r\n                      <h5 className=\"text-center mt-2 \"> {c.Name} </h5>\r\n                    </div>\r\n                  </div>\r\n                  {/*  car card */}\r\n                </>\r\n              ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CarList;\r\n","C:\\Users\\Deepakshi\\Desktop\\react\\crepairs-mern-project\\frontend\\src\\pages\\Dashboard\\PaymentsList.js",[],"C:\\Users\\Deepakshi\\Desktop\\react\\crepairs-mern-project\\frontend\\src\\pages\\Dashboard\\BookDetails.js",["160","161"],"import React, { useContext, useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport { toast } from 'react-toastify';\r\nimport DOMPurify from 'dompurify';\r\n\r\nfunction BookDetails({ match }) {\r\n  const id = match.params.id;\r\n\r\n  const [bookings, setbookings] = useState();\r\n  const [refresh, setRefresh] = useState(true);\r\n\r\n  const createMarkup = (html) => {\r\n    return {\r\n      __html: DOMPurify.sanitize(html),\r\n    };\r\n  };\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .get(`/api/book/find/${id}`, { withCredentials: true })\r\n      .then(({ data }) => setbookings(data))\r\n      .catch((err) => console.log(err));\r\n  }, [refresh]);\r\n\r\n  function handleComplete() {\r\n    let newPrice = bookings.payment.amount;\r\n    if (!newPrice) {\r\n      newPrice = prompt('Please Enter Full Amount Paid by Customer');\r\n    }\r\n    newPrice &&\r\n      axios\r\n        .post(\r\n          `/api/book/${id}/markdone`,\r\n          { newPrice },\r\n          { withCredentials: true }\r\n        )\r\n        .then(({ data }) => {\r\n          toast.success('Booking Completed');\r\n          setRefresh(!refresh);\r\n        })\r\n        .catch((err) => console.log(err));\r\n  }\r\n\r\n  return (\r\n    <div className=\"row\">\r\n      <div className=\"container\">\r\n        <h3>Booking Details</h3>\r\n        <h6>\r\n          {bookings &&\r\n            bookings.vehicle.reg &&\r\n            bookings.vehicle.reg.length > 9 &&\r\n            ` Vehicle Number :  ${bookings.vehicle.reg}`}\r\n        </h6>\r\n        <div className=\"row\">\r\n          {bookings && (\r\n            <>\r\n              <div className=\"col-md-7\">\r\n                {bookings && (\r\n                  <div className=\"row\">\r\n                    <div className=\"col-12\">\r\n                      <div className=\"card shadow my-4 p-4\">\r\n                        <h5>Personal Details</h5>\r\n                        <div className=\"row details\">\r\n                          <div className=\"col-md-4\">\r\n                            <p>Name</p>\r\n                            <h6> {bookings.user_id.name} </h6>\r\n                          </div>\r\n                          <div className=\"col-md-3\">\r\n                            <p>Phone no</p>\r\n                            <h6>{bookings.user_id.phone}</h6>\r\n                          </div>\r\n                          <div className=\"col-md-5\">\r\n                            <p>Email</p>\r\n                            <h6>{bookings.user_id.email}</h6>\r\n                          </div>\r\n                          <div className=\"col-12 mt-3\">\r\n                            <p>Address</p>\r\n                            <h6>{bookings.location}</h6>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n              <div className=\"col-md-5\">\r\n                <div className=\"row\">\r\n                  <div className=\"col-12\">\r\n                    <div className=\"card shadow my-4 p-4\">\r\n                      <h5>Plan & Other Info</h5>\r\n                      <div className=\"row details\">\r\n                        <div className=\"col-md-4\">\r\n                          <p>Plan Type</p>\r\n                          <h6> {bookings.service.serviceType}</h6>\r\n                        </div>\r\n                        <div className=\"col-md-4\">\r\n                          <p>Plan Name</p>\r\n                          <h6> {bookings.service.plan}</h6>\r\n                        </div>\r\n                        <div className=\"col-md-4\">\r\n                          <p>Vehicle </p>\r\n                          <h6>\r\n                            {bookings.vehicle.vehicleType\r\n                              ? bookings.vehicle.vehicleType\r\n                              : bookings.vehicle.model}\r\n                          </h6>\r\n                        </div>\r\n                        <div className=\"col-md-6 mt-3\">\r\n                          <p>Date</p>\r\n                          <h6>\r\n                            {new Date(bookings.scheduleDate).toDateString()},\r\n                          </h6>\r\n                        </div>\r\n                        <div className=\"col-md-6 mt-3\">\r\n                          <p>Time</p>\r\n                          <h6>{bookings.scheduleTime}</h6>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-12\">\r\n                <div className=\"row\">\r\n                  <div className=\"col-12\">\r\n                    <div className=\"card shadow p-4\">\r\n                      {bookings.service.serviceType === 'Repair' &&\r\n                        bookings.descBox && (\r\n                          <div className=\"mb-3\">\r\n                            <h5>Service Details</h5>\r\n                            <div className=\"row\">\r\n                              <div className=\"col-12\">\r\n                                <div\r\n                                  className=\"preview\"\r\n                                  dangerouslySetInnerHTML={createMarkup(\r\n                                    JSON.parse(bookings.descBox)\r\n                                  )}\r\n                                ></div>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        )}\r\n                      <h5>Payment Details</h5>\r\n                      <div className=\"row details\">\r\n                        <div className=\"col-md-2\">\r\n                          <p>Price</p>\r\n                          <h6> {bookings.payment.amount}</h6>\r\n                        </div>\r\n                        <div className=\"col-md-2\">\r\n                          <p>Paid</p>\r\n                          <h6>{bookings.payment.Paid ? 'Yes' : 'No'}</h6>\r\n                        </div>\r\n                        <div className=\"col-md-3\">\r\n                          <p>Booked On</p>\r\n                          <h6>\r\n                            {new Date(bookings.bookedOn).toLocaleDateString()}\r\n                          </h6>\r\n                        </div>\r\n                        <div className=\"col-md-2\">\r\n                          <p>Payment Mode</p>\r\n                          <h6>{bookings.payment.mode}</h6>\r\n                        </div>\r\n                        <div className=\"col-md-3\">\r\n                          <p>Status</p>\r\n                          <h6>\r\n                            {bookings.completed ? 'Completed' : 'Pending'}\r\n                          </h6>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"sFoot mx-0\">\r\n                  {!bookings.completed && (\r\n                    <button onClick={handleComplete} className=\"Continue\">\r\n                      Mark As Completed\r\n                    </button>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default BookDetails;\r\n","C:\\Users\\Deepakshi\\Desktop\\react\\crepairs-mern-project\\frontend\\src\\pages\\Dashboard\\Dbooking.js",["162"],"import axios from 'axios';\r\nimport React from 'react';\r\nimport { useState } from 'react';\r\nimport { useEffect } from 'react';\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport paginationFactory from 'react-bootstrap-table2-paginator';\r\nimport { Link, useRouteMatch } from 'react-router-dom';\r\n\r\nexport const Dbooking = () => {\r\n  let { path, url } = useRouteMatch();\r\n  const [bookings, setbookings] = useState();\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .get('/api/book/', { withCredentials: true })\r\n      .then(({ data }) => setbookings(data));\r\n  }, []);\r\n\r\n  const columns = [\r\n    {\r\n      dataField: 'bookedOn',\r\n      text: 'Booked on',\r\n      formatter: (cell) => new Date(cell).toDateString(),\r\n      sort: true,\r\n    },\r\n    {\r\n      dataField: 'scheduleDate',\r\n      text: 'Scheduled Date',\r\n      formatter: (cell) => new Date(cell).toDateString(),\r\n      sort: true,\r\n    },\r\n    {\r\n      dataField: 'user_id.name',\r\n      text: 'Name',\r\n      sort: true,\r\n    },\r\n    {\r\n      dataField: 'service.serviceType',\r\n      text: 'Service',\r\n      sort: true,\r\n    },\r\n    {\r\n      dataField: 'completed',\r\n      text: 'Status',\r\n      formatter: (cell) =>\r\n        cell ? (\r\n          <span style={style} className=\"badge  badge-success\">\r\n            Completed\r\n          </span>\r\n        ) : (\r\n          <span style={style} className=\"badge  badge-danger\">\r\n            Pending\r\n          </span>\r\n        ),\r\n      sort: true,\r\n    },\r\n    {\r\n      dataField: '_id',\r\n      text: 'Options',\r\n      formatter: (d) => (\r\n        <Link to={`${url}/${d}`}>\r\n          <button className=\"btn buttonView\">View</button>\r\n        </Link>\r\n      ),\r\n    },\r\n  ];\r\n  const style = {\r\n    padding: '5px 10px',\r\n    fontWeight: '500',\r\n  };\r\n  return (\r\n    <div>\r\n      {bookings && (\r\n        <div className=\"card px-3\">\r\n          <h4 className=\"my-4\">Bookings Data</h4>\r\n          <BootstrapTable\r\n            bootstrap4\r\n            keyField=\"_id\"\r\n            data={bookings}\r\n            columns={columns}\r\n            pagination={paginationFactory()}\r\n          />\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n","C:\\Users\\Deepakshi\\Desktop\\react\\crepairs-mern-project\\frontend\\src\\pages\\Razorpay\\keys.js",[],"C:\\Users\\Deepakshi\\Desktop\\react\\crepairs-mern-project\\frontend\\src\\pages\\Shop\\Shop.js",[],"C:\\Users\\Deepakshi\\Desktop\\react\\crepairs-mern-project\\frontend\\src\\pages\\Shop\\Comp\\Cater.js",["163"],"import React, { useState } from 'react';\r\n\r\nfunction Cater({ cat, selected, setselect }) {\r\n  function select(id) {\r\n    if (selected === id) setselect(null);\r\n    else setselect(id);\r\n  }\r\n  return (\r\n    <div className=\"row categories\">\r\n      <div className=\"col-12\">\r\n        <h2>Categories</h2>\r\n      </div>\r\n      {cat &&\r\n        cat.map((c) => (\r\n          <div\r\n            className={\r\n              c._id === selected\r\n                ? 'col card mb-4 selected'\r\n                : 'col card cardhov mb-4'\r\n            }\r\n            onClick={() => select(c._id)}\r\n          >\r\n            <img src={c.image} alt=\"\" />\r\n            <p>{c.name}</p>\r\n          </div>\r\n        ))}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Cater;\r\n","C:\\Users\\Deepakshi\\Desktop\\react\\crepairs-mern-project\\frontend\\src\\pages\\Shop\\Product.js",["164"],"import axios from 'axios';\r\nimport React, { useContext, useEffect, useState } from 'react';\r\nimport Cart from './Comp/Cart';\r\nimport { myContext } from '../../Context';\r\n\r\nfunction Product({ match }) {\r\n  const { addcart } = useContext(myContext);\r\n\r\n  const id = match.params.id;\r\n  const [product, setproduct] = useState();\r\n  useEffect(() => {\r\n    axios\r\n      .get('/api/shop/product/' + id)\r\n      .then((d) => setproduct(d.data))\r\n      .catch((err) => console.log(err));\r\n  }, []);\r\n\r\n  if (!product) return <h1>laoding...</h1>;\r\n  if (product)\r\n    return (\r\n      <div className=\"par\">\r\n        <div className=\"container parentcontainer py-5\">\r\n          <div className=\"prod\">\r\n            <div className=\"col-6  justify-content-center d-flex flex-column\">\r\n              <h1>{product.name}</h1>\r\n              <div className=\"row my-3\">\r\n                <div className=\"col-12\">{product.description}</div>\r\n              </div>\r\n              <div className=\"row\">\r\n                <div className=\"p-4\">\r\n                  <h6>Price</h6>\r\n                  <h4>Rs. {product.price}</h4>\r\n                </div>\r\n                <div className=\"p-4\">\r\n                  <h6>Rating</h6>\r\n                  <div className=\"rating\">\r\n                    <i className=\"fa fa-star\"></i>\r\n                    <i className=\"fa fa-star\"></i>\r\n                    <i className=\"fa fa-star\"></i>\r\n                    <i className=\"fa fa-star\"></i>\r\n                    <i className=\"fa fa-star\"></i>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"\">\r\n                <button className=\"Continue\" onClick={() => addcart(product)}>\r\n                  {' '}\r\n                  Add to Cart\r\n                </button>\r\n              </div>\r\n            </div>\r\n            <div className=\"col-6 rightImg\">\r\n              <img src={product.image} alt=\"\" />\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <Cart />\r\n      </div>\r\n    );\r\n}\r\n\r\nexport default Product;\r\n","C:\\Users\\Deepakshi\\Desktop\\react\\crepairs-mern-project\\frontend\\src\\pages\\Dashboard\\Items.js",[],"C:\\Users\\Deepakshi\\Desktop\\react\\crepairs-mern-project\\frontend\\src\\pages\\Shop\\Comp\\Cart.js",["165","166"],"C:\\Users\\Deepakshi\\Desktop\\react\\crepairs-mern-project\\frontend\\src\\pages\\Shop\\Comp\\Checkout.js",[],{"ruleId":"167","replacedBy":"168"},{"ruleId":"169","replacedBy":"170"},{"ruleId":"171","severity":1,"message":"172","line":7,"column":3,"nodeType":"173","messageId":"174","endLine":7,"endColumn":11},{"ruleId":"171","severity":1,"message":"175","line":83,"column":9,"nodeType":"173","messageId":"174","endLine":83,"endColumn":16},{"ruleId":"171","severity":1,"message":"176","line":3,"column":3,"nodeType":"173","messageId":"174","endLine":3,"endColumn":7},{"ruleId":"171","severity":1,"message":"172","line":5,"column":3,"nodeType":"173","messageId":"174","endLine":5,"endColumn":11},{"ruleId":"171","severity":1,"message":"177","line":15,"column":15,"nodeType":"173","messageId":"174","endLine":15,"endColumn":18},{"ruleId":"171","severity":1,"message":"175","line":9,"column":9,"nodeType":"173","messageId":"174","endLine":9,"endColumn":16},{"ruleId":"171","severity":1,"message":"178","line":8,"column":10,"nodeType":"173","messageId":"174","endLine":8,"endColumn":14},{"ruleId":"179","severity":1,"message":"180","line":117,"column":6,"nodeType":"181","endLine":117,"endColumn":25,"suggestions":"182"},{"ruleId":"179","severity":1,"message":"180","line":84,"column":6,"nodeType":"181","endLine":84,"endColumn":25,"suggestions":"183"},{"ruleId":"171","severity":1,"message":"184","line":6,"column":27,"nodeType":"173","messageId":"174","endLine":6,"endColumn":33},{"ruleId":"171","severity":1,"message":"185","line":7,"column":8,"nodeType":"173","messageId":"174","endLine":7,"endColumn":12},{"ruleId":"171","severity":1,"message":"186","line":22,"column":17,"nodeType":"173","messageId":"174","endLine":22,"endColumn":21},{"ruleId":"171","severity":1,"message":"187","line":4,"column":10,"nodeType":"173","messageId":"174","endLine":4,"endColumn":15},{"ruleId":"171","severity":1,"message":"188","line":7,"column":10,"nodeType":"173","messageId":"174","endLine":7,"endColumn":23},{"ruleId":"171","severity":1,"message":"189","line":11,"column":9,"nodeType":"173","messageId":"174","endLine":11,"endColumn":13},{"ruleId":"171","severity":1,"message":"186","line":12,"column":17,"nodeType":"173","messageId":"174","endLine":12,"endColumn":21},{"ruleId":"171","severity":1,"message":"190","line":12,"column":34,"nodeType":"173","messageId":"174","endLine":12,"endColumn":41},{"ruleId":"179","severity":1,"message":"191","line":21,"column":6,"nodeType":"181","endLine":21,"endColumn":8,"suggestions":"192"},{"ruleId":"179","severity":1,"message":"193","line":92,"column":6,"nodeType":"181","endLine":92,"endColumn":8,"suggestions":"194"},{"ruleId":"171","severity":1,"message":"189","line":8,"column":9,"nodeType":"173","messageId":"174","endLine":8,"endColumn":13},{"ruleId":"171","severity":1,"message":"195","line":10,"column":11,"nodeType":"173","messageId":"174","endLine":10,"endColumn":15},{"ruleId":"171","severity":1,"message":"196","line":2,"column":29,"nodeType":"173","messageId":"174","endLine":2,"endColumn":38},{"ruleId":"171","severity":1,"message":"176","line":3,"column":10,"nodeType":"173","messageId":"174","endLine":3,"endColumn":14},{"ruleId":"171","severity":1,"message":"186","line":9,"column":17,"nodeType":"173","messageId":"174","endLine":9,"endColumn":21},{"ruleId":"171","severity":1,"message":"195","line":219,"column":11,"nodeType":"173","messageId":"174","endLine":219,"endColumn":15},{"ruleId":"171","severity":1,"message":"186","line":219,"column":17,"nodeType":"173","messageId":"174","endLine":219,"endColumn":21},{"ruleId":"171","severity":1,"message":"197","line":219,"column":23,"nodeType":"173","messageId":"174","endLine":219,"endColumn":32},{"ruleId":"171","severity":1,"message":"190","line":219,"column":34,"nodeType":"173","messageId":"174","endLine":219,"endColumn":41},{"ruleId":"171","severity":1,"message":"197","line":8,"column":17,"nodeType":"173","messageId":"174","endLine":8,"endColumn":26},{"ruleId":"179","severity":1,"message":"198","line":16,"column":3,"nodeType":"199","endLine":23,"endColumn":4},{"ruleId":"171","severity":1,"message":"200","line":1,"column":17,"nodeType":"173","messageId":"174","endLine":1,"endColumn":27},{"ruleId":"179","severity":1,"message":"201","line":17,"column":6,"nodeType":"181","endLine":17,"endColumn":8,"suggestions":"202"},{"ruleId":"171","severity":1,"message":"200","line":1,"column":17,"nodeType":"173","messageId":"174","endLine":1,"endColumn":27},{"ruleId":"179","severity":1,"message":"203","line":23,"column":6,"nodeType":"181","endLine":23,"endColumn":15,"suggestions":"204"},{"ruleId":"171","severity":1,"message":"189","line":10,"column":9,"nodeType":"173","messageId":"174","endLine":10,"endColumn":13},{"ruleId":"171","severity":1,"message":"205","line":1,"column":17,"nodeType":"173","messageId":"174","endLine":1,"endColumn":25},{"ruleId":"179","severity":1,"message":"203","line":16,"column":6,"nodeType":"181","endLine":16,"endColumn":8,"suggestions":"206"},{"ruleId":"171","severity":1,"message":"207","line":7,"column":17,"nodeType":"173","messageId":"174","endLine":7,"endColumn":24},{"ruleId":"208","severity":1,"message":"209","line":31,"column":17,"nodeType":"210","endLine":31,"endColumn":56},"no-native-reassign",["211"],"no-negated-in-lhs",["212"],"no-unused-vars","'Redirect' is defined but never used.","Identifier","unusedVar","'history' is assigned a value but never used.","'Link' is defined but never used.","'url' is assigned a value but never used.","'keys' is defined but never used.","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'brands' and 'form.vehicleBrand'. Either include them or remove the dependency array.","ArrayExpression",["213"],["214"],"'Router' is defined but never used.","'Wash' is defined but never used.","'auth' is assigned a value but never used.","'toast' is defined but never used.","'convertToHTML' is defined but never used.","'path' is assigned a value but never used.","'refresh' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'user._id'. Either include it or remove the dependency array.",["215"],"React Hook useEffect has a missing dependency: 'match.params.id'. Either include it or remove the dependency array.",["216"],"'user' is assigned a value but never used.","'useEffect' is defined but never used.","'setHeader' is assigned a value but never used.","The 'deleteuser' function makes the dependencies of useEffect Hook (at line 14) change on every render. To fix this, wrap the definition of 'deleteuser' in its own useCallback() Hook.","FunctionDeclaration","'useContext' is defined but never used.","React Hook useEffect has a missing dependency: 'fetchcars'. Either include it or remove the dependency array.",["217"],"React Hook useEffect has a missing dependency: 'id'. Either include it or remove the dependency array.",["218"],"'useState' is defined but never used.",["219"],"'setcart' is assigned a value but never used.","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","no-global-assign","no-unsafe-negation",{"desc":"220","fix":"221"},{"desc":"220","fix":"222"},{"desc":"223","fix":"224"},{"desc":"225","fix":"226"},{"desc":"227","fix":"228"},{"desc":"229","fix":"230"},{"desc":"231","fix":"232"},"Update the dependencies array to be: [brands, form.vehicleBrand, form.vehicleModel]",{"range":"233","text":"234"},{"range":"235","text":"234"},"Update the dependencies array to be: [user._id]",{"range":"236","text":"237"},"Update the dependencies array to be: [match.params.id]",{"range":"238","text":"239"},"Update the dependencies array to be: [fetchcars]",{"range":"240","text":"241"},"Update the dependencies array to be: [id, refresh]",{"range":"242","text":"243"},"Update the dependencies array to be: [id]",{"range":"244","text":"245"},[3425,3444],"[brands, form.vehicleBrand, form.vehicleModel]",[2500,2519],[715,717],"[user._id]",[3431,3433],"[match.params.id]",[427,429],"[fetchcars]",[633,642],"[id, refresh]",[485,487],"[id]"]