[{"F:\\MCA\\MP\\crepairs\\frontend\\src\\index.js":"1","F:\\MCA\\MP\\crepairs\\frontend\\src\\App.js":"2","F:\\MCA\\MP\\crepairs\\frontend\\src\\Context.js":"3","F:\\MCA\\MP\\crepairs\\frontend\\src\\Home.js":"4","F:\\MCA\\MP\\crepairs\\frontend\\src\\Scrolltotop.js":"5","F:\\MCA\\MP\\crepairs\\frontend\\src\\pages\\Dashboard\\Dashboard.js":"6","F:\\MCA\\MP\\crepairs\\frontend\\src\\pages\\User.js":"7","F:\\MCA\\MP\\crepairs\\frontend\\src\\pages\\Success.js":"8","F:\\MCA\\MP\\crepairs\\frontend\\src\\Login.js":"9","F:\\MCA\\MP\\crepairs\\frontend\\src\\pages\\Wash.js":"10","F:\\MCA\\MP\\crepairs\\frontend\\src\\pages\\Repair.js":"11","F:\\MCA\\MP\\crepairs\\frontend\\src\\pages\\Dashboard\\PaymentsList.js":"12","F:\\MCA\\MP\\crepairs\\frontend\\src\\pages\\Dashboard\\ManageCars.js":"13","F:\\MCA\\MP\\crepairs\\frontend\\src\\pages\\Dashboard\\CarList.js":"14","F:\\MCA\\MP\\crepairs\\frontend\\src\\pages\\Dashboard\\BookDetails.js":"15","F:\\MCA\\MP\\crepairs\\frontend\\src\\pages\\Dashboard\\Dbooking.js":"16","F:\\MCA\\MP\\crepairs\\frontend\\src\\pages\\Booking.js":"17","F:\\MCA\\MP\\crepairs\\frontend\\src\\pages\\Dashboard\\ManageUsers.js":"18","F:\\MCA\\MP\\crepairs\\frontend\\src\\pages\\Profile.js":"19","F:\\MCA\\MP\\crepairs\\frontend\\src\\pages\\Razorpay\\keys.js":"20","F:\\MCA\\MP\\crepairs\\frontend\\src\\pages\\Maintain.js":"21"},{"size":629,"mtime":1612087765268,"results":"22","hashOfConfig":"23"},{"size":5049,"mtime":1616695216645,"results":"24","hashOfConfig":"23"},{"size":952,"mtime":1613576143101,"results":"25","hashOfConfig":"23"},{"size":5088,"mtime":1616695177633,"results":"26","hashOfConfig":"23"},{"size":319,"mtime":1612626479513,"results":"27","hashOfConfig":"23"},{"size":8539,"mtime":1615914995089,"results":"28","hashOfConfig":"23"},{"size":1547,"mtime":1615990392551,"results":"29","hashOfConfig":"23"},{"size":1111,"mtime":1613826511891,"results":"30","hashOfConfig":"23"},{"size":8851,"mtime":1616530335387,"results":"31","hashOfConfig":"23"},{"size":28170,"mtime":1616530335401,"results":"32","hashOfConfig":"23"},{"size":26798,"mtime":1616531839517,"results":"33","hashOfConfig":"23"},{"size":2175,"mtime":1613921923057,"results":"34","hashOfConfig":"23"},{"size":3931,"mtime":1613730435477,"results":"35","hashOfConfig":"23"},{"size":4075,"mtime":1613734292773,"results":"36","hashOfConfig":"23"},{"size":5120,"mtime":1616004571050,"results":"37","hashOfConfig":"23"},{"size":2140,"mtime":1616004342183,"results":"38","hashOfConfig":"23"},{"size":10211,"mtime":1616694691281,"results":"39","hashOfConfig":"23"},{"size":2231,"mtime":1613142182283,"results":"40","hashOfConfig":"23"},{"size":9146,"mtime":1613659920137,"results":"41","hashOfConfig":"23"},{"size":106,"mtime":1613811812487,"results":"42","hashOfConfig":"23"},{"size":32043,"mtime":1616699433937,"results":"43","hashOfConfig":"23"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},"k2je0s",{"filePath":"47","messages":"48","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"57","usedDeprecatedRules":"46"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"60","usedDeprecatedRules":"46"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"63","usedDeprecatedRules":"46"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"66","usedDeprecatedRules":"46"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"71","usedDeprecatedRules":"46"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"76","usedDeprecatedRules":"46"},{"filePath":"77","messages":"78","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"79","usedDeprecatedRules":"46"},{"filePath":"80","messages":"81","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"82","usedDeprecatedRules":"46"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"85","usedDeprecatedRules":"46"},{"filePath":"86","messages":"87","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"88","messages":"89","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"90","usedDeprecatedRules":"46"},{"filePath":"91","messages":"92","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"93","usedDeprecatedRules":"46"},{"filePath":"94","messages":"95","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"96","messages":"97","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"F:\\MCA\\MP\\crepairs\\frontend\\src\\index.js",[],["98","99"],"F:\\MCA\\MP\\crepairs\\frontend\\src\\App.js",["100"],"F:\\MCA\\MP\\crepairs\\frontend\\src\\Context.js",[],"F:\\MCA\\MP\\crepairs\\frontend\\src\\Home.js",[],"F:\\MCA\\MP\\crepairs\\frontend\\src\\Scrolltotop.js",[],"F:\\MCA\\MP\\crepairs\\frontend\\src\\pages\\Dashboard\\Dashboard.js",["101","102","103"],"import axios from 'axios';\r\nimport React, { useContext } from 'react';\r\nimport { myContext } from '../../Context';\r\nimport { toast } from 'react-toastify';\r\nimport { NavLink, useHistory, useRouteMatch } from 'react-router-dom';\r\nimport { BrowserRouter as Router, Switch, Route, Link } from 'react-router-dom';\r\nimport Wash from '../Wash';\r\nimport './dash.css';\r\nimport { ManageCars } from './ManageCars';\r\nimport { ManageUsers } from './ManageUsers';\r\nimport CarList from './CarList';\r\nimport PaymentsList from './PaymentsList';\r\nimport { useState } from 'react';\r\nimport { useEffect } from 'react';\r\nimport { Dbooking } from './Dbooking';\r\nimport BookDetails from './BookDetails';\r\n\r\nfunction Dashboard() {\r\n  let { path, url } = useRouteMatch();\r\n  const history = useHistory();\r\n  const { user, auth, setAuth, setHeader } = useContext(myContext);\r\n  setHeader(false);\r\n\r\n  function logout() {\r\n    axios\r\n      .get('/api/auth/logout', {}, { withCredentials: true })\r\n      .then(() => {\r\n        setAuth(false);\r\n        toast.info('Success logout');\r\n        history.push('/');\r\n      })\r\n      .catch((er) => console.log(er));\r\n  }\r\n\r\n  if (user) {\r\n    return (\r\n      <div>\r\n        <div className=\"d-flex\">\r\n          <div className=\"sidebar dark\">\r\n            <Link to=\"/\">\r\n              <div className=\"logo \">CREPAIRS</div>\r\n            </Link>\r\n\r\n            <div className=\"dashnav\">\r\n              <ul>\r\n                <NavLink to={`${url}`} exact activeClassName=\"active\">\r\n                  <li>\r\n                    <i class=\"fal fa-home\"></i>\r\n                    <span>Dashboard</span>\r\n                  </li>\r\n                </NavLink>\r\n\r\n                <NavLink to={`${url}/bookings`} exact activeClassName=\"active\">\r\n                  <li>\r\n                    <i class=\"fal fa-calendar-alt\"></i>\r\n                    <span>Bookings</span>\r\n                  </li>\r\n                </NavLink>\r\n\r\n                <NavLink to={`${url}/payments`} exact activeClassName=\"active\">\r\n                  <li>\r\n                    <i class=\"fal fa-rupee-sign\"></i>\r\n                    <span>Payments</span>\r\n                  </li>\r\n                </NavLink>\r\n\r\n                <NavLink to={`${url}/cars`} exact activeClassName=\"active\">\r\n                  <li>\r\n                    <i class=\"fal fa-car \"></i>\r\n                    <span>Vehicles</span>\r\n                  </li>\r\n                </NavLink>\r\n\r\n                <NavLink to={`${url}/users`} activeClassName=\"active\">\r\n                  <li>\r\n                    <i class=\"fal fa-user-shield\"></i>\r\n                    <span>Users</span>\r\n                  </li>\r\n                </NavLink>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n\r\n          <header className=\"sidetop\">\r\n            <div className=\"content\">\r\n              <div className=\"userwithDrop\">\r\n                <div className=\"userbadge\">\r\n                  <div className=\"d-flex\">\r\n                    <div className=\"col myuser text-right px-2\">\r\n                      <h6> {user.name}</h6>\r\n                      <p> {user.isAdmin ? 'Admin' : 'Customer'}</p>\r\n                    </div>\r\n                    <img\r\n                      src={\r\n                        (user.profileImg && user.profileImg) ||\r\n                        require('../../assets/dp.png').default\r\n                      }\r\n                      alt=\"profile\"\r\n                      className=\"rounded-circle\"\r\n                      height=\"35px\"\r\n                      width=\"35px\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div className=\"user-dropdown\">\r\n                  <ul className=\"drop-li\">\r\n                    <li>\r\n                      <Link to=\"/user/profile\">\r\n                        <i className=\"far fa-user\"></i>\r\n                        <span> Profile</span>\r\n                      </Link>\r\n                    </li>\r\n                    {user.isAdmin ? (\r\n                      <li>\r\n                        <Link to=\"/dashboard\">\r\n                          <i className=\"far fa-clipboard-list-check\"></i>\r\n                          <span> Dashboard</span>\r\n                        </Link>\r\n                      </li>\r\n                    ) : (\r\n                      <li>\r\n                        <Link to=\"/user/booking\">\r\n                          <i className=\"far fa-clipboard-list-check\"></i>\r\n                          <span> My Bookings </span>\r\n                        </Link>\r\n                      </li>\r\n                    )}\r\n                    <li onClick={() => logout()}>\r\n                      <i className=\"far fa-sign-out-alt\"></i>\r\n                      <span> Logout</span>\r\n                    </li>\r\n                  </ul>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </header>\r\n\r\n          <div className=\"content-wrap\">\r\n            <Switch>\r\n              <Route exact path={`${path}`} component={Dash} />\r\n              <Route exact path={`${path}/bookings`} component={Dbooking} />\r\n              <Route\r\n                exact\r\n                path={`${path}/bookings/:id`}\r\n                component={BookDetails}\r\n              />\r\n              <Route exact path={`${path}/payments`} component={PaymentsList} />\r\n              <Route exact path={`${path}/cars`} component={ManageCars} />\r\n              <Route exact path={`${path}/cars/:id`} component={CarList} />\r\n              <Route exact path={`${path}/users`} component={ManageUsers} />\r\n            </Switch>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  } else {\r\n    return (\r\n      <div\r\n        className=\"col-12\"\r\n        style={{\r\n          minHeight: '100vh',\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          justifyContent: 'center',\r\n        }}\r\n      >\r\n        <div\r\n          class=\"spinner-border text-danger h3\"\r\n          style={{ width: '3rem', height: '3rem' }}\r\n          role=\"status\"\r\n        ></div>\r\n        <h4>Loading...</h4>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst Dash = () => {\r\n  const [booking, setbooking] = useState();\r\n  const [today, settoday] = useState();\r\n  useEffect(() => {\r\n    axios\r\n      .get('/api/book', { withCredentials: true })\r\n      .then((e) => setbooking(e.data))\r\n      .catch((err) => console.log(err));\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (booking) {\r\n      let today = booking.filter(\r\n        (e) =>\r\n          new Date(e.scheduleDate).toISOString().split('T')[0] ===\r\n          new Date().toISOString().split('T')[0]\r\n      );\r\n      settoday(today.length);\r\n    }\r\n  }, [booking]);\r\n\r\n  console.log(booking);\r\n\r\n  return (\r\n    <div className=\"dash-home container\">\r\n      <div className=\"row topnotify\">\r\n        <div className=\"col-md-3\">\r\n          <div className=\"card c1\">\r\n            <div className=\"cicon\">\r\n              <i class=\"fal fa-bell-plus fa-2x\"></i>\r\n            </div>\r\n            <div className=\"ctext\">\r\n              <span>{today && today}</span>\r\n              <h6>Pickups Today</h6>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"col-md-3\">\r\n          <div className=\"card c2\">\r\n            <div className=\"cicon\">\r\n              <i class=\"fal fa-conveyor-belt fa-2x\"></i>\r\n            </div>\r\n            <div className=\"ctext\">\r\n              <span>{booking && booking.length}</span>\r\n              <h6>Total Bookings</h6>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"col-md-3\">\r\n          <div className=\"card c4\">\r\n            <div className=\"cicon\">\r\n              <i class=\"fal fa-calendar-check fa-2x\"></i>\r\n            </div>\r\n            <div className=\"ctext\">\r\n              <span>\r\n                {booking && booking.filter((b) => b.completed === false).length}\r\n              </span>\r\n              <h6>Pending</h6>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"col-md-3\">\r\n          <div className=\"card c3\">\r\n            <div className=\"cicon\">\r\n              <i class=\"fal fa-rupee-sign fa-2x\"></i>\r\n            </div>\r\n            <div className=\"ctext\">\r\n              <span>\r\n                {booking &&\r\n                  booking\r\n                    .map((i) => i.payment.Paid === true && i.payment.amount)\r\n                    .reduce((prev, next) => prev + next)}\r\n              </span>\r\n              <h6>Total Earnings</h6>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Dashboard;\r\n","F:\\MCA\\MP\\crepairs\\frontend\\src\\pages\\User.js",["104","105","106"],"import React from 'react';\r\nimport {\r\n  Link,\r\n  NavLink,\r\n  Redirect,\r\n  Route,\r\n  Switch,\r\n  useRouteMatch,\r\n} from 'react-router-dom';\r\nimport Booking, { ViewBooking } from './Booking';\r\nimport Profile, { Cpassword } from './Profile';\r\nimport './profile.css';\r\n\r\nfunction User() {\r\n  let { path, url } = useRouteMatch();\r\n\r\n  return (\r\n    <div className=\"bg-light\">\r\n      <div className=\"backgrad\"></div>\r\n      <div className=\"container\">\r\n        <div className=\"row py-5\">\r\n          <div className=\"col-md-3 profile_menu\">\r\n            <ul>\r\n              <NavLink activeClassName=\"active\" to={`${path}/profile`}>\r\n                <li>Profile</li>\r\n              </NavLink>\r\n              <NavLink activeClassName=\"active\" to={`${path}/booking`}>\r\n                <li>Bookings</li>\r\n              </NavLink>\r\n              <NavLink activeClassName=\"active\" to={`${path}/changepassword`}>\r\n                <li>Password</li>\r\n              </NavLink>\r\n            </ul>\r\n          </div>\r\n\r\n          {/* Comp switch */}\r\n          <Switch>\r\n            <Route exact path={`${path}/profile`} component={Profile} />\r\n            <Route exact path={`${path}/booking`} component={Booking} />\r\n            <Route exact path={`${path}/booking/:id`} component={ViewBooking} />\r\n            <Route\r\n              exact\r\n              path={`${path}/changepassword`}\r\n              component={Cpassword}\r\n            />\r\n          </Switch>\r\n          {/* Comp switch */}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default User;\r\n","F:\\MCA\\MP\\crepairs\\frontend\\src\\pages\\Success.js",["107"],"import React, { useContext, useState } from 'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { myContext } from '../Context';\r\nimport Lottie from 'lottie-react';\r\nimport tick from '../assets/success-indicator.json';\r\n\r\nexport const Success = () => {\r\n  const { setHeader } = useContext(myContext);\r\n  const history = useHistory();\r\n  setHeader(true);\r\n  const [done, setDone] = useState(false);\r\n\r\n  return (\r\n    <div id=\"success\">\r\n      <div className=\"container\">\r\n        <div className=\"row py-4 justify-content-center\">\r\n          <div className=\"col-6 card shadow text-center\">\r\n            <Lottie\r\n              animationData={tick}\r\n              loop={false}\r\n              style={{ height: 200 }}\r\n              onComplete={() => setDone(true)}\r\n            />\r\n            {done && (\r\n              <>\r\n                <span className=\"woho\">Woo Hoo!</span>\r\n                <h2>Your pickup is confirmed</h2>\r\n                <Link to=\"user/booking\">View Status</Link>\r\n              </>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","F:\\MCA\\MP\\crepairs\\frontend\\src\\Login.js",["108"],"import axios from 'axios';\r\nimport React, { useContext, useState } from 'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport './App.css';\r\nimport { myContext } from './Context';\r\nimport { toast } from 'react-toastify';\r\n\r\nconst Login = () => {\r\n  const [email, setemail] = useState('');\r\n  const [pass, setpass] = useState('');\r\n  const history = useHistory();\r\n  const { setAuth, setHeader } = useContext(myContext);\r\n\r\n  setHeader(true);\r\n  function submitlogin(e) {\r\n    e.preventDefault();\r\n    if (email === '' || pass === '') {\r\n      alert('info needed');\r\n    } else {\r\n      axios\r\n        .post(\r\n          '/api/auth/login',\r\n          {\r\n            email: email,\r\n            password: pass,\r\n          },\r\n          { withCredentials: true }\r\n        )\r\n        .then(() => {\r\n          setAuth(true);\r\n          toast.success('Login Successful');\r\n          history.push('/');\r\n        })\r\n        .catch((er) => toast.error('╳ Incorrect email or password'));\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"login_parent\">\r\n      <div className=\"login_left\"></div>\r\n      <div className=\"login_right\">\r\n        <div className=\"login_inside\">\r\n          <h3>Welcome back!</h3>\r\n\r\n          <form onSubmit={submitlogin} className=\"form\">\r\n            <label>Email</label>\r\n            <input\r\n              onChange={(e) => setemail(e.target.value)}\r\n              value={email}\r\n              className=\"textfield\"\r\n              type=\"email\"\r\n              placeholder=\"xyz@email.com\"\r\n              required\r\n            />\r\n            <label>Password</label>\r\n            <input\r\n              className=\"textfield\"\r\n              onChange={(e) => setpass(e.target.value)}\r\n              value={pass}\r\n              type=\"password\"\r\n              placeholder=\"******\"\r\n              required\r\n            />\r\n            <p className=\"forgotpass\">\r\n              <Link to=\"/signin/reset\">Forgot password</Link>\r\n            </p>\r\n            <button type=\"submit\">\r\n              Sign in <i className=\"gg-arrow-right\"></i>\r\n            </button>\r\n          </form>\r\n\r\n          <p className=\"info\">\r\n            Don't have an account, <Link to=\"/signup\">Sign up</Link>\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const ForgotPassword = () => {\r\n  const [email, setemail] = useState('');\r\n  const history = useHistory();\r\n  const [isLoading, setLoading] = useState(false);\r\n\r\n  const Submit = (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    axios\r\n      .post('/api/auth/forgot', { email }, { withCredentials: true })\r\n      .then(() => {\r\n        setLoading(false);\r\n        toast.success('Successfully sent');\r\n        // history.push('/login');\r\n      })\r\n      .catch((er) => toast.error('Theres no user with this email'));\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"login_parent\">\r\n        <div className=\"login_left\"></div>\r\n        <div className=\"login_right\">\r\n          <div className=\"login_inside\">\r\n            <h3>Trouble Logging In?</h3>\r\n\r\n            <form onSubmit={Submit} className=\"form\">\r\n              <label>Enter your email</label>\r\n              <input\r\n                onChange={(e) => setemail(e.target.value)}\r\n                value={email}\r\n                className=\"textfield\"\r\n                type=\"email\"\r\n                placeholder=\"email@domain.com\"\r\n                required\r\n              />\r\n\r\n              <button type=\"submit\">\r\n                {isLoading ? (\r\n                  <span\r\n                    class=\"spinner-border spinner-border-sm\"\r\n                    role=\"status\"\r\n                    aria-hidden=\"true\"\r\n                  ></span>\r\n                ) : null}\r\n                Send Reset Link <i className=\"gg-arrow-right\"></i>\r\n              </button>\r\n\r\n              <p className=\"info\">\r\n                <Link to=\"/signin\">Go back to login page</Link>\r\n              </p>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const NewPassword = ({ match }) => {\r\n  const [password, setPassword] = useState('');\r\n  const [pass2, setPass2] = useState('');\r\n  const [isLoading, setLoading] = useState(false);\r\n  const history = useHistory();\r\n  const token = match.params.resetToken;\r\n\r\n  const Submit = (e) => {\r\n    e.preventDefault();\r\n    if (password === pass2) {\r\n      setLoading(true);\r\n      axios\r\n        .post('/api/auth/reset', { password, token }, { withCredentials: true })\r\n        .then(() => {\r\n          setLoading(false);\r\n          toast.success('Successfully Changed');\r\n          history.push('/signin');\r\n        })\r\n        .catch((er) => toast.error(er.response.data));\r\n    } else {\r\n      toast.error('Password does not match with confirm password');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"login_parent\">\r\n        <div className=\"login_left\"></div>\r\n        <div className=\"login_right\">\r\n          <div className=\"login_inside\">\r\n            <h3>New Password </h3>\r\n\r\n            <form onSubmit={Submit} className=\"form\">\r\n              <label>Enter new password</label>\r\n              <input\r\n                onChange={(e) => setPassword(e.target.value)}\r\n                value={password}\r\n                className=\"textfield\"\r\n                type=\"password\"\r\n                placeholder=\"************\"\r\n                required\r\n              />\r\n              <label>Enter confirm password </label>\r\n              <input\r\n                onChange={(e) => setPass2(e.target.value)}\r\n                value={pass2}\r\n                className=\"textfield\"\r\n                type=\"password\"\r\n                placeholder=\"************\"\r\n                required\r\n              />\r\n\r\n              <button type=\"submit\">\r\n                {isLoading ? (\r\n                  <span\r\n                    class=\"spinner-border spinner-border-sm\"\r\n                    role=\"status\"\r\n                    aria-hidden=\"true\"\r\n                  ></span>\r\n                ) : null}\r\n                Change Password <i className=\"gg-arrow-right\"></i>\r\n              </button>\r\n\r\n              <p className=\"info\">\r\n                <Link to=\"/signin\">Go back to login page</Link>\r\n              </p>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const RegisterPage = () => {\r\n  const [email, setemail] = useState('');\r\n  const [pass, setpass] = useState('');\r\n  const [pass2, setpass2] = useState('');\r\n  const [fullname, setfullname] = useState('');\r\n  const history = useHistory();\r\n\r\n  function reg(e) {\r\n    e.preventDefault();\r\n    if (pass === pass2)\r\n      axios\r\n        .post(\r\n          '/api/auth/register',\r\n          {\r\n            name: fullname,\r\n            email: email,\r\n            password: pass,\r\n          },\r\n          { withCredentials: true }\r\n        )\r\n        .then(() => {\r\n          toast.success('Registered');\r\n          history.push('/signin');\r\n        })\r\n        .catch((er) => toast.error('Email already in use'));\r\n    else toast.error('password does not match');\r\n  }\r\n\r\n  return (\r\n    <div className=\"login_parent\">\r\n      <div className=\"login_left\"></div>\r\n      <div className=\"login_right\">\r\n        <div className=\"login_inside\">\r\n          <h3>Register !</h3>\r\n\r\n          <form onSubmit={reg} className=\"form\">\r\n            <label>Full Name</label>\r\n            <input\r\n              onChange={(e) => setfullname(e.target.value)}\r\n              value={fullname}\r\n              className=\"textfield\"\r\n              type=\"text\"\r\n              placeholder=\"John Doe\"\r\n              required\r\n            />\r\n            <label>Email</label>\r\n            <input\r\n              onChange={(e) => setemail(e.target.value)}\r\n              value={email}\r\n              className=\"textfield\"\r\n              type=\"email\"\r\n              placeholder=\"xyz@email.com\"\r\n              required\r\n            />\r\n            <label>Password</label>\r\n            <input\r\n              className=\"textfield\"\r\n              onChange={(e) => setpass(e.target.value)}\r\n              value={pass}\r\n              type=\"password\"\r\n              placeholder=\"******\"\r\n              required\r\n            />\r\n            <label>Confirm Password</label>\r\n            <input\r\n              className=\"textfield\"\r\n              onChange={(e) => setpass2(e.target.value)}\r\n              value={pass2}\r\n              type=\"password\"\r\n              placeholder=\"******\"\r\n              required\r\n            />\r\n            <button type=\"submit\">\r\n              Sign up <i className=\"gg-arrow-right\"></i>\r\n            </button>\r\n          </form>\r\n\r\n          <p className=\"info\">\r\n            Already have an account, <Link to=\"/signin\">Sign in</Link>\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","F:\\MCA\\MP\\crepairs\\frontend\\src\\pages\\Wash.js",[],"F:\\MCA\\MP\\crepairs\\frontend\\src\\pages\\Repair.js",["109","110"],"import React, { useContext, useEffect, useState } from 'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { myContext } from '../Context';\r\nimport './services.css';\r\nimport { CSSTransition } from 'react-transition-group';\r\nimport { toast } from 'react-toastify';\r\nimport axios from 'axios';\r\nimport { keys } from './Razorpay/keys';\r\n\r\nimport { EditorState } from 'draft-js';\r\nimport { Editor } from 'react-draft-wysiwyg';\r\nimport { convertToHTML } from 'draft-convert';\r\nimport DOMPurify from 'dompurify';\r\nimport 'react-draft-wysiwyg/dist/react-draft-wysiwyg.css';\r\nimport TimePicker from 'react-bootstrap-time-picker';\r\n\r\nexport const Repair = () => {\r\n  const { user, setAuth, auth, setHeader } = useContext(myContext);\r\n  const history = useHistory();\r\n  setHeader(false);\r\n\r\n  const [brands, setbrands] = useState(null);\r\n\r\n  // wysiwyg\r\n  const [editorState, setEditorState] = useState(() =>\r\n    EditorState.createEmpty()\r\n  );\r\n  const [convertedContent, setConvertedContent] = useState(null);\r\n\r\n  const handleEditorChange = (state) => {\r\n    setEditorState(state);\r\n    convertContentToHTML();\r\n  };\r\n\r\n  const convertContentToHTML = () => {\r\n    let currentContentAsHTML = convertToHTML(editorState.getCurrentContent());\r\n    setConvertedContent(currentContentAsHTML);\r\n    setForm((f) => ({ ...f, descBox: JSON.stringify(currentContentAsHTML) }));\r\n  };\r\n\r\n  console.log(convertedContent);\r\n\r\n  const createMarkup = (html) => {\r\n    return {\r\n      __html: DOMPurify.sanitize(html),\r\n    };\r\n  };\r\n  // wysiwyg END\r\n\r\n  useEffect(() => {\r\n    fetchbrands();\r\n    if (user) {\r\n      setForm((f) => ({\r\n        ...f,\r\n        fullName: user ? user.name : null,\r\n        phoneNo: user ? user.phone : null,\r\n        email: user ? user.email : null,\r\n\r\n        houseNo: user ? user.address && user.address.houseNo : null,\r\n        locality: user ? user.address && user.address.locality : null,\r\n        city: user ? user.address && user.address.city : null,\r\n        pincode: user ? user.address && user.address.pincode : null,\r\n      }));\r\n    }\r\n  }, [user]);\r\n\r\n  function fetchbrands() {\r\n    axios\r\n      .get('/api/cars/', { withCredentials: true })\r\n      .then(({ data }) => {\r\n        setbrands(data);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  const [step, setStep] = useState(1);\r\n  const [animate, setAnimate] = useState(false);\r\n\r\n  const [form, setForm] = useState({\r\n    vehicleBrand: null,\r\n    vehicleModel: null,\r\n    vehicleImage: null,\r\n    repair: [],\r\n    serviceType: 'Repair',\r\n    descBox: null,\r\n    price: null,\r\n    duration: null,\r\n    date: null,\r\n    time: null,\r\n    fullName: user ? user.name : null,\r\n    phoneNo: user ? user.phone : null,\r\n    email: user ? user.email : null,\r\n\r\n    houseNo: user ? user.address && user.address.houseNo : null,\r\n    locality: user ? user.address && user.address.locality : null,\r\n    city: user ? user.address && user.address.city : null,\r\n    pincode: user ? user.address && user.address.pincode : null,\r\n    country: 'INDIA',\r\n    paymentMethod: 'onDelivery',\r\n\r\n    razorpay: {\r\n      razorpay_payment_id: null,\r\n      razorpay_order_id: null,\r\n      razorpay_signature: null,\r\n      loading: true,\r\n    },\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (brands) {\r\n      const i = brands.filter((b) => {\r\n        return b.brand === form.vehicleBrand;\r\n      })[0];\r\n      console.log(i);\r\n    }\r\n  }, [form.vehicleModel]);\r\n\r\n  useEffect(() => {\r\n    setAnimate(true);\r\n  }, [step]);\r\n\r\n  const handleContinue = () => {\r\n    if (step === 3) {\r\n      if (form.paymentMethod === 'Online') {\r\n        // displayRazorpay();\r\n      } else\r\n        axios\r\n          .post('/api/book/add', form, { withCredentials: true })\r\n          .then((e) => {\r\n            history.push('/success');\r\n          })\r\n          .catch((e) => console.log(e));\r\n    }\r\n    if (step !== 3) {\r\n      switch (step) {\r\n        case 1:\r\n          if (\r\n            form.vehicleBrand === null ||\r\n            form.vehicleModel === null ||\r\n            form.repair.length === 0\r\n          )\r\n            toast.error('Please fill all fields');\r\n          else {\r\n            setAnimate(false);\r\n            auth ? setStep((e) => e + 1) : history.push('/signin');\r\n          }\r\n          break;\r\n\r\n        case 2:\r\n          if (\r\n            form.date === null ||\r\n            form.time === null ||\r\n            form.fullName === null ||\r\n            form.email === null ||\r\n            form.phoneNo === null ||\r\n            form.houseNo === null ||\r\n            form.locality === null ||\r\n            form.pincode === null ||\r\n            form.city === null ||\r\n            form.country === null\r\n          )\r\n            toast.error('Please fill all fields');\r\n          else {\r\n            setAnimate(false);\r\n            setStep((e) => e + 1);\r\n          }\r\n          break;\r\n\r\n        default:\r\n          break;\r\n      }\r\n    }\r\n  };\r\n  const handlePrevious = () => {\r\n    if (step !== 1) {\r\n      setAnimate(false);\r\n      setStep((e) => e - 1);\r\n    }\r\n  };\r\n\r\n  function selectRepair(type) {\r\n    if (form.repair.includes(type)) {\r\n      const newList = form.repair.filter((data) => data !== type);\r\n      setForm((f) => ({ ...f, repair: [...newList] }));\r\n    } else {\r\n      setForm((f) => ({\r\n        ...f,\r\n        repair: [...f.repair, type],\r\n      }));\r\n    }\r\n    console.log(form);\r\n  }\r\n\r\n  function logout() {\r\n    axios\r\n      .get('/api/auth/logout', {}, { withCredentials: true })\r\n      .then(() => {\r\n        setAuth(false);\r\n        toast.info('Success logout');\r\n        history.push('/');\r\n      })\r\n      .catch((er) => console.log(er));\r\n  }\r\n\r\n  return (\r\n    <div id=\"repair\">\r\n      <div className=\"service_nav\">\r\n        <div className=\"navbar-header\">\r\n          <Link className=\"brand\" to=\"/\">\r\n            Crepairs\r\n          </Link>\r\n        </div>\r\n        <div className=\"step_menu\">\r\n          <div className={step >= 1 ? 'step active' : 'step'}>\r\n            <p>Select</p>\r\n            <div className=\"circle\">\r\n              {step > 1 ? <i className=\"gg-check\"></i> : 1}\r\n            </div>\r\n          </div>\r\n          <div className=\"line\"></div>\r\n          <div className={step >= 2 ? 'step active' : 'step'}>\r\n            <p>Put Info</p>\r\n            <div className=\"circle\">\r\n              {step > 2 ? <i className=\"gg-check\"></i> : 2}\r\n            </div>\r\n          </div>\r\n          <div className=\"line\"></div>\r\n          <div className={step >= 3 ? 'step active' : 'step '}>\r\n            <p>Book</p>\r\n            <div className=\"circle\">\r\n              {step > 3 ? <i className=\"gg-check\"></i> : 3}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"auth\">\r\n          {user ? (\r\n            <div className=\"userwithDrop\">\r\n              <div className=\"userbadge\">\r\n                <div className=\"d-flex\">\r\n                  <div className=\"col myuser text-right px-2\">\r\n                    <h6> {user.name}</h6>\r\n                    <p> {user.isAdmin ? 'Admin' : 'Customer'}</p>\r\n                  </div>\r\n                  <img\r\n                    src={\r\n                      (user.profileImg && user.profileImg) ||\r\n                      require('../assets/dp.png').default\r\n                    }\r\n                    alt=\"profile\"\r\n                    className=\"rounded-circle\"\r\n                    height=\"35px\"\r\n                    width=\"35px\"\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className=\"user-dropdown\">\r\n                <ul className=\"drop-li\">\r\n                  <li>\r\n                    <Link to=\"/user/profile\">\r\n                      <i className=\"far fa-user\"></i>\r\n                      <span> Profile</span>\r\n                    </Link>\r\n                  </li>\r\n                  {user.isAdmin ? (\r\n                    <li>\r\n                      <Link to=\"/dashboard\">\r\n                        <i className=\"far fa-clipboard-list-check\"></i>\r\n                        <span> Dashboard</span>\r\n                      </Link>\r\n                    </li>\r\n                  ) : (\r\n                    <li>\r\n                      <Link to=\"/user/booking\">\r\n                        <i className=\"far fa-clipboard-list-check\"></i>\r\n                        <span> My Bookings </span>\r\n                      </Link>\r\n                    </li>\r\n                  )}\r\n                  <li onClick={() => logout()}>\r\n                    <i className=\"far fa-sign-out-alt\"></i>\r\n                    <span> Logout</span>\r\n                  </li>\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <Link className=\"login-btn\" to=\"/signin\">\r\n              Sign in\r\n            </Link>\r\n          )}\r\n        </div>\r\n      </div>\r\n      <div className=\"container mheight\">\r\n        {step === 1 && (\r\n          <CSSTransition in={animate} timeout={1000} classNames=\"animate\">\r\n            <div className=\"step1\">\r\n              <div className=\"row area-top\">\r\n                <div className=\"col-md-5 left_area\">\r\n                  <h2>Car Information</h2>\r\n\r\n                  <label>Vehicle Brand</label>\r\n\r\n                  <select\r\n                    value={form.vehicleBrand}\r\n                    onChange={(e) =>\r\n                      setForm({ ...form, vehicleBrand: e.target.value })\r\n                    }\r\n                  >\r\n                    <option value=\"\" selected>\r\n                      Choose Brand\r\n                    </option>\r\n                    {brands && brands.map((b) => <option>{b.brand}</option>)}\r\n                  </select>\r\n\r\n                  <label>Vehicle Model</label>\r\n\r\n                  <select\r\n                    value={form.vehicleModel}\r\n                    onChange={(e) =>\r\n                      setForm({ ...form, vehicleModel: e.target.value })\r\n                    }\r\n                  >\r\n                    <option value=\"\" selected>\r\n                      Choose Model\r\n                    </option>\r\n                    {brands &&\r\n                      form.vehicleBrand &&\r\n                      brands\r\n                        .filter((b) => {\r\n                          return b.brand === form.vehicleBrand;\r\n                        })\r\n                        .map((m) =>\r\n                          m.models.map((m) => <option>{m.Name}</option>)\r\n                        )}\r\n                  </select>\r\n                </div>\r\n                <div className=\"col-md-7 center\">\r\n                  {brands &&\r\n                    brands\r\n                      .filter((b) => {\r\n                        return b.brand === form.vehicleBrand;\r\n                      })\r\n                      .map(({ models }) =>\r\n                        models.map(\r\n                          (m) =>\r\n                            m.Name === form.vehicleModel && (\r\n                              <img src={m.Image} alt=\"car\" height=\"300px\" />\r\n                            )\r\n                        )\r\n                      )}\r\n                  {(form.vehicleBrand == null || form.vehicleModel == null) && (\r\n                    <div\r\n                      style={{\r\n                        minHeight: 300,\r\n                        display: 'flex',\r\n                        justifyContent: 'center',\r\n                        alignItems: 'center',\r\n                      }}\r\n                    >\r\n                      <img\r\n                        src={require('../assets/8227.png').default}\r\n                        width=\"80%\"\r\n                        alt=\"\"\r\n                      />\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"row opt\">\r\n                <div className=\"col-2\">\r\n                  <div\r\n                    className={\r\n                      form.repair.includes('Wheels') ? 'card active' : 'card'\r\n                    }\r\n                    onClick={() => selectRepair('Wheels')}\r\n                  >\r\n                    <img\r\n                      src={require('../assets/repair/wheel.png').default}\r\n                      alt=\"\"\r\n                    />\r\n                    <p>Wheels</p>\r\n                  </div>\r\n                </div>\r\n                <div className=\"col-2\">\r\n                  <div\r\n                    className={\r\n                      form.repair.includes('Ac') ? 'card active' : 'card'\r\n                    }\r\n                    onClick={() => selectRepair('Ac')}\r\n                  >\r\n                    <img\r\n                      src={require('../assets/repair/ac.png').default}\r\n                      alt=\"\"\r\n                    />\r\n                    <p>Ac Repair</p>\r\n                  </div>\r\n                </div>\r\n                <div className=\"col-2\">\r\n                  <div\r\n                    className={\r\n                      form.repair.includes('Disc Brake')\r\n                        ? 'card active'\r\n                        : 'card'\r\n                    }\r\n                    onClick={() => selectRepair('Disc Brake')}\r\n                  >\r\n                    <img\r\n                      src={require('../assets/repair/break.png').default}\r\n                      alt=\"\"\r\n                    />\r\n                    <p>Disc Brake</p>\r\n                  </div>\r\n                </div>\r\n                <div className=\"col-2\">\r\n                  <div\r\n                    className={\r\n                      form.repair.includes('Batteries') ? 'card active' : 'card'\r\n                    }\r\n                    onClick={() => selectRepair('Batteries')}\r\n                  >\r\n                    <img\r\n                      src={require('../assets/repair/batt.png').default}\r\n                      alt=\"\"\r\n                    />\r\n                    <p>Batteries</p>\r\n                  </div>\r\n                </div>\r\n                <div className=\"col-2\">\r\n                  <div\r\n                    className={\r\n                      form.repair.includes('Custom') ? 'card active' : 'card'\r\n                    }\r\n                    onClick={() => selectRepair('Custom')}\r\n                  >\r\n                    <img\r\n                      src={require('../assets/repair/custom.png').default}\r\n                      alt=\"\"\r\n                    />\r\n                    <p>Custom Service</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </CSSTransition>\r\n        )}\r\n        {step === 2 && (\r\n          <CSSTransition in={animate} timeout={1000} classNames=\"animate\">\r\n            <div style={{ minHeight: 450 }}>\r\n              <div className=\"row mt-3\">\r\n                <div className=\"col-8\">\r\n                  <div className=\"\">\r\n                    <h5>Write your problem / requirement below with details</h5>\r\n                    <Editor\r\n                      editorState={editorState}\r\n                      onEditorStateChange={handleEditorChange}\r\n                      wrapperClassName=\"wrapper-class\"\r\n                      editorClassName=\"editor-class\"\r\n                      toolbarClassName=\"toolbar-class\"\r\n                      toolbar={{\r\n                        options: [\r\n                          'inline',\r\n                          'blockType',\r\n                          'fontSize',\r\n                          'list',\r\n                          'textAlign',\r\n                          'history',\r\n                        ],\r\n                        inline: {\r\n                          inDropdown: false,\r\n                          options: ['bold', 'italic', 'underline'],\r\n                        },\r\n\r\n                        list: { inDropdown: false },\r\n                        textAlign: { inDropdown: true },\r\n                      }}\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div className=\"col-4\">\r\n                  <h5>Services Selected </h5>\r\n                  <ul class=\"list-group\">\r\n                    {form.repair.map((d) => (\r\n                      <li class=\"list-group-item\">\r\n                        <i class=\"fas fa-check-circle text-success mr-2\"></i>\r\n                        {d}\r\n                      </li>\r\n                    ))}\r\n                  </ul>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"row mt-2 p-3\">\r\n                <div className=\"col-8 UserInfo px-5 py-4\">\r\n                  <h5 className=\"mb-3\">User Information</h5>\r\n                  <div className=\"row\">\r\n                    <div className=\"col-md-4\">\r\n                      Full Name\r\n                      <input\r\n                        type=\"text\"\r\n                        placeholder=\"Enter Your Name\"\r\n                        className=\"form-control\"\r\n                        maxLength=\"20\"\r\n                        value={form.fullName}\r\n                        onMouseLeave={(e) => e.target.checkValidity()}\r\n                        onChange={(e) =>\r\n                          setForm({ ...form, fullName: e.target.value })\r\n                        }\r\n                        required\r\n                      />\r\n                    </div>\r\n                    <div className=\"col-md-3\">\r\n                      Phone Number\r\n                      <input\r\n                        type=\"text\"\r\n                        placeholder=\"+91\"\r\n                        maxLength=\"10\"\r\n                        className=\"form-control\"\r\n                        value={form.phoneNo}\r\n                        pattern=\"[0-9]*\"\r\n                        onChange={(e) =>\r\n                          e.target.validity.valid &&\r\n                          setForm({ ...form, phoneNo: e.target.value })\r\n                        }\r\n                      />\r\n                    </div>\r\n                    <div className=\"col-md-5\">\r\n                      Email\r\n                      <input\r\n                        type=\"email\"\r\n                        placeholder=\"ex@domain.com\"\r\n                        className=\"form-control\"\r\n                        value={form.email}\r\n                        onChange={(e) =>\r\n                          setForm({ ...form, email: e.target.value })\r\n                        }\r\n                      />\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"row mt-3\">\r\n                    <div className=\"col-12\">Address</div>\r\n                    <div className=\"col-md-8 mb-3\">\r\n                      <input\r\n                        type=\"text\"\r\n                        placeholder=\"House No  / Floor No / Appartment Name\"\r\n                        maxLength=\"100\"\r\n                        className=\"form-control\"\r\n                        value={form.houseNo}\r\n                        onChange={(e) =>\r\n                          setForm({ ...form, houseNo: e.target.value })\r\n                        }\r\n                      />\r\n                    </div>\r\n                    <div className=\"col-md-4 mb-3\">\r\n                      <input\r\n                        type=\"text\"\r\n                        placeholder=\"Locality\"\r\n                        maxLength=\"50\"\r\n                        className=\"form-control\"\r\n                        value={form.locality}\r\n                        onChange={(e) =>\r\n                          setForm({ ...form, locality: e.target.value })\r\n                        }\r\n                      />\r\n                    </div>\r\n                    <div className=\"col-md-6 mb-3\">\r\n                      <input\r\n                        type=\"text\"\r\n                        placeholder=\"City\"\r\n                        maxLength=\"50\"\r\n                        className=\"form-control\"\r\n                        value={form.city}\r\n                        onChange={(e) =>\r\n                          setForm({ ...form, city: e.target.value })\r\n                        }\r\n                      />\r\n                    </div>\r\n                    <div className=\"col-md-3 mb-3\">\r\n                      <input\r\n                        type=\"text\"\r\n                        placeholder=\"Pincode\"\r\n                        className=\"form-control\"\r\n                        pattern=\"[0-9]*\"\r\n                        maxLength=\"6\"\r\n                        value={form.pincode}\r\n                        onChange={(e) => {\r\n                          e.target.validity.valid &&\r\n                            setForm({\r\n                              ...form,\r\n                              pincode: e.target.value,\r\n                            });\r\n                        }}\r\n                      />\r\n                    </div>\r\n                    <div className=\"col-md-3 mb-3\">\r\n                      <input\r\n                        type=\"text\"\r\n                        value=\"India\"\r\n                        maxLength=\"30\"\r\n                        className=\"form-control\"\r\n                        disabled\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"col-4 DT p-4\">\r\n                  <div className=\"col-md-12 align-self-center\">\r\n                    <h4 style={{ fontWeight: 600 }}> Appointment </h4>\r\n                    <div className=\"row mt-3\">\r\n                      <div className=\"col-md-12\">\r\n                        <label> Date </label>\r\n                        <input\r\n                          type=\"date\"\r\n                          className=\"form-control appt\"\r\n                          min={new Date().toISOString().split('T')[0]}\r\n                          value={form.date}\r\n                          onChange={(e) =>\r\n                            setForm({ ...form, date: e.target.value })\r\n                          }\r\n                        />\r\n                      </div>\r\n                      <div className=\"col-md-12\">\r\n                        <label> Time </label>\r\n                        <TimePicker\r\n                          className=\"appt\"\r\n                          start={\r\n                            form.date &&\r\n                            new Date().toISOString().split('T')[0] ===\r\n                              new Date(form.date).toISOString().split('T')[0]\r\n                              ? `${\r\n                                  new Date().getMinutes() > 50\r\n                                    ? new Date().getHours() + 2\r\n                                    : new Date().getHours() + 1\r\n                                }:00`\r\n                              : '06:00'\r\n                          }\r\n                          end=\"22:00\"\r\n                          step={60}\r\n                          value={form.time}\r\n                          onChange={(t) =>\r\n                            setForm({ ...form, time: `${t / 3600}:00` })\r\n                          }\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </CSSTransition>\r\n        )}\r\n\r\n        {step === 3 && (\r\n          <CSSTransition in={animate} timeout={1000} classNames=\"animate\">\r\n            <>\r\n              <div className=\"row finalDisp mt-4\" style={{ minHeight: 500 }}>\r\n                <div className=\"col-md-7 \">\r\n                  <div className=\"row\">\r\n                    <div className=\"card d-flex w-100 flex-wrap p-3 flex-row\">\r\n                      <div className=\"col-md-6\">\r\n                        <span>Contact Name</span>\r\n                        <h5>{form.fullName}</h5>\r\n                      </div>\r\n                      <div className=\"col-md-6\">\r\n                        <span>Contact No</span>\r\n                        <h5>{form.phoneNo}</h5>\r\n                      </div>\r\n                      <div className=\"col-md-6 mt-2\">\r\n                        <span>Pickup Address</span>\r\n                        <h5>\r\n                          {form.houseNo}, {form.locality}, {form.city},{' '}\r\n                          {form.pincode}, {form.country}\r\n                        </h5>\r\n                      </div>\r\n                      <div className=\"col-md-6 mt-2\">\r\n                        <span>Pickup Date & Time</span>\r\n                        <h5>\r\n                          {form.date}, {form.time}\r\n                        </h5>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"card d-flex w-100 flex-wrap p-3 flex-row my-3\">\r\n                      <div className=\"col-12\">\r\n                        <span className=\"d-block\">Your Selected services</span>\r\n                        <div className=\"mx-2\">\r\n                          {form.repair.map((d) => (\r\n                            <h5 className=\"d-inline mr-3\">\r\n                              <i class=\"fas fa-check-circle text-success mr-1\"></i>\r\n                              {d}\r\n                            </h5>\r\n                          ))}\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-12 mt-2\">\r\n                        <span>Repair Information</span>\r\n                        <div\r\n                          className=\"mt-2 preview p-2 rounded border\"\r\n                          style={{ background: 'rgb(255, 250, 221)' }}\r\n                          dangerouslySetInnerHTML={createMarkup(\r\n                            convertedContent\r\n                          )}\r\n                        ></div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"col-md-5 carImage\">\r\n                  {brands &&\r\n                    brands\r\n                      .filter((b) => {\r\n                        return b.brand === form.vehicleBrand;\r\n                      })\r\n                      .map(({ models }) =>\r\n                        models.map(\r\n                          (m) =>\r\n                            m.Name === form.vehicleModel && (\r\n                              <img src={m.Image} alt=\"car\" width=\"auto\" />\r\n                            )\r\n                        )\r\n                      )}\r\n                  <p className=\"my-3\">\r\n                    {form.vehicleBrand} {form.vehicleModel}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </>\r\n          </CSSTransition>\r\n        )}\r\n\r\n        <div className=\"sFoot\">\r\n          <p\r\n            className={step === 1 ? 'prev disable' : 'prev'}\r\n            onClick={() => handlePrevious()}\r\n          >\r\n            Previous\r\n          </p>\r\n\r\n          <button className=\"Continue\" onClick={() => handleContinue()}>\r\n            {step !== 3 ? 'Continue' : 'Confirm Booking'}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","F:\\MCA\\MP\\crepairs\\frontend\\src\\pages\\Dashboard\\PaymentsList.js",[],"F:\\MCA\\MP\\crepairs\\frontend\\src\\pages\\Dashboard\\ManageCars.js",["111","112"],"import React, { useContext, useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport { toast } from 'react-toastify';\r\nimport { myContext } from '../../Context';\r\nimport { Link, useRouteMatch } from 'react-router-dom';\r\n\r\nexport const ManageCars = () => {\r\n  let { path, url } = useRouteMatch();\r\n\r\n  const { user } = useContext(myContext);\r\n  const [modal, setmodal] = useState(false);\r\n  const [brand, setbrand] = useState({\r\n    name: null,\r\n    image: null,\r\n  });\r\n  const [cars, setcars] = useState(null);\r\n\r\n  useEffect(() => {\r\n    fetchbrands();\r\n  }, []);\r\n\r\n  function fetchbrands() {\r\n    axios\r\n      .get('/api/cars/', { withCredentials: true })\r\n      .then(({ data }) => {\r\n        setcars(data);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  function addBrand(e) {\r\n    e.preventDefault();\r\n\r\n    const data = new FormData();\r\n    data.append('brandIcon', brand.image);\r\n    data.append('name', brand.name);\r\n    axios\r\n      .post('/api/cars/addbrand', data, { withCredentials: true })\r\n      .then((d) => {\r\n        toast.success('Added');\r\n        setbrand({\r\n          name: null,\r\n          image: null,\r\n        });\r\n        fetchbrands();\r\n      })\r\n      .catch((e) => console.log('error'));\r\n    setmodal(!modal);\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"container\">\r\n        <div className=\"row\">\r\n          <div className=\"col-10\">\r\n            <h3>Manage Manufacturers & Cars </h3>\r\n          </div>\r\n        </div>\r\n        <div className=\"row my-4\">\r\n          {cars &&\r\n            cars.map((c) => (\r\n              <div className=\"col-md-2\">\r\n                <Link to={`${url}/${c._id}`}>\r\n                  <div className=\"card \">\r\n                    <img src={c.brandImage} alt=\"Brand\" />\r\n                  </div>\r\n                </Link>\r\n              </div>\r\n            ))}\r\n\r\n          <div className=\"col-md-2\">\r\n            <div className=\"card brand-card\" onClick={() => setmodal(true)}>\r\n              <i className=\"fal fa-plus fa-5x\"></i>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* <!-- Modal --> */}\r\n        {modal && (\r\n          <div className=\"model-out-overlay\">\r\n            <div className=\"custom-model\">\r\n              <div className=\"col-6 card p-4\">\r\n                <form onSubmit={addBrand}>\r\n                  <div className=\"row\">\r\n                    <div className=\"col-12 mb-3\">\r\n                      <h4>Add Brand</h4>\r\n                      <input\r\n                        type=\"text\"\r\n                        className=\"form-control\"\r\n                        placeholder=\"Manufacturer Name\"\r\n                        value={brand.name}\r\n                        onChange={(b) =>\r\n                          setbrand({ ...brand, name: b.target.value })\r\n                        }\r\n                        required\r\n                      />\r\n                    </div>\r\n                    <div className=\"col-12 mb-3\">\r\n                      <input\r\n                        type=\"file\"\r\n                        className=\"form-control\"\r\n                        accept=\"image/*\"\r\n                        name=\"brandicon\"\r\n                        onChange={(b) =>\r\n                          setbrand({ ...brand, image: b.target.files[0] })\r\n                        }\r\n                      />\r\n                    </div>\r\n                    <div className=\"col-12\">\r\n                      <button className=\"modal-sub mr-3\">Add Brand</button>\r\n                      <button\r\n                        className=\"btn btn-secondary\"\r\n                        onClick={() => setmodal(false)}\r\n                      >\r\n                        Close\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </form>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n        {/* <!-- END Modal --> */}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","F:\\MCA\\MP\\crepairs\\frontend\\src\\pages\\Dashboard\\CarList.js",["113","114"],"import React, { useContext, useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport { toast } from 'react-toastify';\r\n\r\nfunction CarList({ match }) {\r\n  const id = match.params.id;\r\n\r\n  const [modal, setmodal] = useState(false);\r\n  const [BrandModel, setBrandModel] = useState({\r\n    name: null,\r\n    image: null,\r\n  });\r\n  const [cars, setcars] = useState(null);\r\n\r\n  useEffect(() => {\r\n    fetchcars();\r\n  }, []);\r\n\r\n  function fetchcars() {\r\n    axios\r\n      .get(`/api/cars/model/${id}`, { withCredentials: true })\r\n      .then(({ data }) => {\r\n        setcars(data);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  function submitModel(e) {\r\n    e.preventDefault();\r\n\r\n    const data = new FormData();\r\n    data.append('modelImg', BrandModel.image);\r\n    data.append('model', BrandModel.name);\r\n    axios\r\n      .post(`/api/cars/model/${id}`, data, { withCredentials: true })\r\n      .then((d) => {\r\n        toast.success('Added');\r\n        setBrandModel({\r\n          name: null,\r\n          image: null,\r\n        });\r\n        fetchcars();\r\n      })\r\n      .catch((e) => console.log('error'));\r\n    setmodal(!modal);\r\n  }\r\n\r\n  return (\r\n    <div className=\"row\">\r\n      <div className=\"container\">\r\n        <div className=\"col-12 d-flex justify-content-between\">\r\n          <h3>Vehicle List</h3>\r\n          <button className=\"btn btn-info\" onClick={() => setmodal(!modal)}>\r\n            Add New Model\r\n          </button>\r\n        </div>\r\n\r\n        {/* <!-- Modal --> */}\r\n        {modal && (\r\n          <div className=\"model-out-overlay\">\r\n            <div className=\"custom-model\">\r\n              <div className=\"col-6 card p-4\">\r\n                <form onSubmit={submitModel}>\r\n                  <div className=\"row\">\r\n                    <div className=\"col-12 mb-3\">\r\n                      <h4>Add Model</h4>\r\n                      <input\r\n                        type=\"text\"\r\n                        className=\"form-control\"\r\n                        placeholder=\"Car Model Name\"\r\n                        value={BrandModel.name}\r\n                        onChange={(b) =>\r\n                          setBrandModel({ ...BrandModel, name: b.target.value })\r\n                        }\r\n                        required\r\n                      />\r\n                    </div>\r\n                    <div className=\"col-12 mb-3\">\r\n                      <input\r\n                        type=\"file\"\r\n                        className=\"form-control\"\r\n                        accept=\"image/*\"\r\n                        name=\"brandicon\"\r\n                        onChange={(b) =>\r\n                          setBrandModel({\r\n                            ...BrandModel,\r\n                            image: b.target.files[0],\r\n                          })\r\n                        }\r\n                      />\r\n                    </div>\r\n                    <div className=\"col-12\">\r\n                      <button className=\"modal-sub mr-3\">Add Model</button>\r\n                      <button\r\n                        className=\"btn btn-secondary\"\r\n                        onClick={() => setmodal(!modal)}\r\n                      >\r\n                        Close\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </form>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n        {/* <!-- END Modal --> */}\r\n\r\n        <div className=\"col-12 my-3\">\r\n          <div className=\"row carlist\">\r\n            {cars &&\r\n              cars.models.map((c) => (\r\n                <>\r\n                  {/* car card */}\r\n                  <div className=\"col-md-4 mb-4\">\r\n                    <div className=\"card px-4 py-3\">\r\n                      <img className=\"img-fluid\" src={c.Image} alt=\"\" />\r\n                      <h5 className=\"text-center mt-2 \"> {c.Name} </h5>\r\n                    </div>\r\n                  </div>\r\n                  {/*  car card */}\r\n                </>\r\n              ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CarList;\r\n","F:\\MCA\\MP\\crepairs\\frontend\\src\\pages\\Dashboard\\BookDetails.js",["115","116"],"import React, { useContext, useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\n\r\nfunction BookDetails({ match }) {\r\n  const id = match.params.id;\r\n\r\n  const [bookings, setbookings] = useState();\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .get(`/api/book/find/${id}`, { withCredentials: true })\r\n      .then(({ data }) => setbookings(data))\r\n      .catch((err) => console.log(err));\r\n  }, []);\r\n\r\n  console.log(bookings);\r\n\r\n  return (\r\n    <div className=\"row\">\r\n      <div className=\"container\">\r\n        <h3>Booking Details</h3>\r\n        <div className=\"row\">\r\n          {bookings && (\r\n            <>\r\n              <div className=\"col-md-7\">\r\n                {bookings && (\r\n                  <div className=\"row\">\r\n                    <div className=\"col-12\">\r\n                      <div className=\"card shadow my-4 p-4\">\r\n                        <h5>Personal Details</h5>\r\n                        <div className=\"row details\">\r\n                          <div className=\"col-md-4\">\r\n                            <p>Name</p>\r\n                            <h6> {bookings.user_id.name} </h6>\r\n                          </div>\r\n                          <div className=\"col-md-3\">\r\n                            <p>Phone no</p>\r\n                            <h6>{bookings.user_id.phone}</h6>\r\n                          </div>\r\n                          <div className=\"col-md-5\">\r\n                            <p>Email</p>\r\n                            <h6>{bookings.user_id.email}</h6>\r\n                          </div>\r\n                          <div className=\"col-12 mt-3\">\r\n                            <p>Address</p>\r\n                            <h6>{bookings.location}</h6>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n              <div className=\"col-md-5\">\r\n                <div className=\"row\">\r\n                  <div className=\"col-12\">\r\n                    <div className=\"card shadow my-4 p-4\">\r\n                      <h5>Plan Details</h5>\r\n                      <div className=\"row details\">\r\n                        <div className=\"col-md-4\">\r\n                          <p>Plan Type</p>\r\n                          <h6> {bookings.service.serviceType}</h6>\r\n                        </div>\r\n                        <div className=\"col-md-4\">\r\n                          <p>Plan Name</p>\r\n                          <h6> {bookings.service.plan}</h6>\r\n                        </div>\r\n                        <div className=\"col-md-4\">\r\n                          <p>Vehicle Type</p>\r\n                          <h6>{bookings.vehicle.vehicleType}</h6>\r\n                        </div>\r\n                        <div className=\"col-md-6 mt-3\">\r\n                          <p>Date</p>\r\n                          <h6>\r\n                            {new Date(bookings.scheduleDate).toDateString()},\r\n                          </h6>\r\n                        </div>\r\n                        <div className=\"col-md-6 mt-3\">\r\n                          <p>Time</p>\r\n                          <h6>{bookings.scheduleTime}</h6>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-12\">\r\n                <div className=\"row\">\r\n                  <div className=\"col-12\">\r\n                    <div className=\"card shadow p-4\">\r\n                      <h5>Payment Details</h5>\r\n                      <div className=\"row details\">\r\n                        <div className=\"col-md-2\">\r\n                          <p>Price</p>\r\n                          <h6> {bookings.payment.amount}</h6>\r\n                        </div>\r\n                        <div className=\"col-md-2\">\r\n                          <p>Paid</p>\r\n                          <h6>{bookings.payment.Paid ? 'Yes' : 'No'}</h6>\r\n                        </div>\r\n                        <div className=\"col-md-3\">\r\n                          <p>Booked On</p>\r\n                          <h6>\r\n                            {new Date(bookings.bookedOn).toLocaleDateString()}\r\n                          </h6>\r\n                        </div>\r\n                        <div className=\"col-md-2\">\r\n                          <p>Payment Mode</p>\r\n                          <h6>{bookings.payment.mode}</h6>\r\n                        </div>\r\n                        <div className=\"col-md-3\">\r\n                          <p>Status</p>\r\n                          <h6>\r\n                            {bookings.completed ? 'Completed' : 'Pending'}\r\n                          </h6>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"sFoot mx-0\">\r\n                  <button className=\"Continue\">Mark As Completed</button>\r\n                </div>\r\n              </div>\r\n            </>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default BookDetails;\r\n","F:\\MCA\\MP\\crepairs\\frontend\\src\\pages\\Dashboard\\Dbooking.js",["117"],"import axios from 'axios';\r\nimport React from 'react';\r\nimport { useState } from 'react';\r\nimport { useEffect } from 'react';\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport paginationFactory from 'react-bootstrap-table2-paginator';\r\nimport { Link, useRouteMatch } from 'react-router-dom';\r\n\r\nexport const Dbooking = () => {\r\n  let { path, url } = useRouteMatch();\r\n  const [bookings, setbookings] = useState();\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .get('/api/book/', { withCredentials: true })\r\n      .then(({ data }) => setbookings(data));\r\n  }, []);\r\n\r\n  const columns = [\r\n    {\r\n      dataField: 'bookedOn',\r\n      text: 'Booked on',\r\n      formatter: (cell) => new Date(cell).toDateString(),\r\n      sort: true,\r\n    },\r\n    {\r\n      dataField: 'scheduleDate',\r\n      text: 'Scheduled Date',\r\n      formatter: (cell) => new Date(cell).toDateString(),\r\n      sort: true,\r\n    },\r\n    {\r\n      dataField: 'user_id.name',\r\n      text: 'Name',\r\n      sort: true,\r\n    },\r\n    {\r\n      dataField: 'service.serviceType',\r\n      text: 'Service',\r\n      sort: true,\r\n    },\r\n    {\r\n      dataField: 'completed',\r\n      text: 'Status',\r\n      formatter: (cell) =>\r\n        cell ? (\r\n          <span style={style} className=\"badge  badge-success\">\r\n            Completed\r\n          </span>\r\n        ) : (\r\n          <span style={style} className=\"badge  badge-danger\">\r\n            Pending\r\n          </span>\r\n        ),\r\n      sort: true,\r\n    },\r\n    {\r\n      dataField: '_id',\r\n      text: 'Options',\r\n      formatter: (d) => (\r\n        <Link to={`${url}/${d}`}>\r\n          <button className=\"btn buttonView\">View</button>\r\n        </Link>\r\n      ),\r\n    },\r\n  ];\r\n  const style = {\r\n    padding: '5px 10px',\r\n    fontWeight: '500',\r\n  };\r\n  return (\r\n    <div>\r\n      {bookings && (\r\n        <div className=\"card px-3\">\r\n          <h4 className=\"my-4\">Bookings Data</h4>\r\n          <BootstrapTable\r\n            bootstrap4\r\n            keyField=\"_id\"\r\n            data={bookings}\r\n            columns={columns}\r\n            pagination={paginationFactory()}\r\n          />\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n","F:\\MCA\\MP\\crepairs\\frontend\\src\\pages\\Booking.js",["118","119","120","121","122","123","124"],"F:\\MCA\\MP\\crepairs\\frontend\\src\\pages\\Dashboard\\ManageUsers.js",["125","126"],"import axios from 'axios';\r\nimport React, { useContext, useEffect, useState } from 'react';\r\nimport { toast } from 'react-toastify';\r\nimport { myContext } from '../../Context';\r\n\r\nexport const ManageUsers = () => {\r\n  const [all, setall] = useState('');\r\n  const { user, setHeader } = useContext(myContext);\r\n  useEffect(() => {\r\n    axios\r\n      .get('/api/user/all', { withCredentials: true })\r\n      .then((d) => setall(d.data))\r\n      .catch((err) => alert('error in getting users'));\r\n  }, [deleteuser]);\r\n\r\n  function deleteuser(id, email) {\r\n    email !== user.email\r\n      ? axios\r\n          .post('/api/user/deleteuser', { id }, { withCredentials: true })\r\n          .then(() => toast.info('User deleted'))\r\n          .catch((err) => toast.error('error'))\r\n      : toast.warning('You cannot delete your account');\r\n  }\r\n  return (\r\n    <div className=\"row\">\r\n      <div className=\"container\">\r\n        <h4>Users list</h4>\r\n        {all && (\r\n          <div className=\"col-12 card my-3\">\r\n            <table class=\"table\">\r\n              <thead>\r\n                <tr>\r\n                  <th scope=\"col\">#</th>\r\n                  <th scope=\"col\">Name</th>\r\n                  <th scope=\"col\">Email</th>\r\n                  <th scope=\"col\">Role</th>\r\n                  <th scope=\"col\">Reg Date</th>\r\n                  <th scope=\"col\">Options</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {all.map((d, i) => (\r\n                  <tr>\r\n                    <th scope=\"row\">{i + 1}</th>\r\n                    <td>{d.name}</td>\r\n                    <td>{d.email}</td>\r\n                    <td>{d.isAdmin ? 'Admin' : 'Customer'}</td>\r\n                    <td>{new Date(d.registerDate).toDateString()}</td>\r\n                    <td>\r\n                      <button\r\n                        className=\"btn btn-danger\"\r\n                        onClick={() => deleteuser(d._id, d.email)}\r\n                      >\r\n                        <i class=\"fas fa-trash\"></i> Delete\r\n                      </button>\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","F:\\MCA\\MP\\crepairs\\frontend\\src\\pages\\Profile.js",["127","128","129","130","131","132","133"],"import axios from 'axios';\r\nimport React, { useContext, useEffect, useState } from 'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { toast } from 'react-toastify';\r\nimport { myContext } from '../Context';\r\nimport './profile.css';\r\n\r\nfunction Profile() {\r\n  const { user, auth, setHeader, refresh } = useContext(myContext);\r\n  setHeader(true);\r\n  function updateProfile() {\r\n    axios\r\n      .patch('/api/user/edit', { form }, { withCredentials: true })\r\n      .then((done) => toast.success('Updated'))\r\n      .catch((err) => toast.error('Error'));\r\n  }\r\n  const [dp, setdp] = useState({\r\n    file: null,\r\n    temp: null,\r\n  });\r\n\r\n  const [form, setForm] = useState({\r\n    fullName: user.name,\r\n    email: user.email,\r\n    phone: user.phone,\r\n    houseNo: user.address ? user.address.houseNo : null,\r\n    locality: user.address ? user.address.locality : null,\r\n    city: user.address ? user.address.city : null,\r\n    pincode: user.address ? user.address.pincode : null,\r\n    country: 'INDIA',\r\n  });\r\n\r\n  function imageRemove() {\r\n    if (dp.file || dp.temp) {\r\n      setdp({ temp: null, file: null });\r\n    }\r\n    if (user.profileImg && dp.file === null) {\r\n      axios\r\n        .post(\r\n          '/api/user/rmvdp',\r\n          { img: user.profileImg },\r\n          { withCredentials: true }\r\n        )\r\n        .then((res) => {\r\n          refresh();\r\n          setdp({ temp: null, file: null });\r\n          toast.success('Image removed');\r\n        })\r\n        .catch((err) => console.log(err));\r\n    }\r\n  }\r\n\r\n  function imageupload() {\r\n    const data = new FormData();\r\n    data.append('pic', dp.file);\r\n    if (dp.file) {\r\n      axios\r\n        .post('/api/user/setdp', data, { withCredentials: true })\r\n        .then((res) => {\r\n          refresh();\r\n          URL.revokeObjectURL(dp.temp);\r\n          setdp({ ...dp, file: null });\r\n          toast.success('Image updated');\r\n        })\r\n        .catch((err) => console.log(err));\r\n    } else toast.warning('Please select an image first');\r\n  }\r\n\r\n  return (\r\n    <div className=\"col-md-6 shadow card profilecard p-5\">\r\n      <div className=\"row\">\r\n        <div className=\"col-12\">\r\n          <div className=\"row\">\r\n            <div className=\"col-3\">\r\n              <div className=\"profile_pic\">\r\n                <img\r\n                  src={\r\n                    (dp.temp && dp.temp) ||\r\n                    (user.profileImg && user.profileImg) ||\r\n                    require('../assets/dp.png').default\r\n                  }\r\n                  alt=\"pic\"\r\n                  className=\"rounded-circle\"\r\n                  height=\"100px\"\r\n                  width=\"100px\"\r\n                />\r\n                <label htmlFor=\"dp\" className=\"selectPic\">\r\n                  <i class=\"fal fa-camera-alt\"></i>\r\n                </label>\r\n                <input\r\n                  type=\"file\"\r\n                  name=\"profile\"\r\n                  id=\"dp\"\r\n                  accept=\"image/*\"\r\n                  onChange={(e) => {\r\n                    setdp({\r\n                      temp: URL.createObjectURL(e.target.files[0]),\r\n                      file: e.target.files[0],\r\n                    });\r\n                  }}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"col-9 mt-auto mb-3\">\r\n              <h4 className=\"ml-3\">{user.name}</h4>\r\n              <button\r\n                className=\"btn profile-btn upload\"\r\n                onClick={() => imageupload()}\r\n              >\r\n                Upload\r\n              </button>\r\n              <button className=\"btn profile-btn\" onClick={() => imageRemove()}>\r\n                Remove\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <hr className=\"hr-custom my-4\" />\r\n        <div className=\"col-12 mb-3\">\r\n          <h6>Full Name</h6>\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            onChange={(e) => setForm({ ...form, fullName: e.target.value })}\r\n            value={form.fullName}\r\n          />\r\n        </div>\r\n        <div className=\"col-6\">\r\n          <h6>Email</h6>\r\n          <input\r\n            type=\"email\"\r\n            className=\"form-control\"\r\n            onChange={(e) => setForm({ ...form, email: e.target.value })}\r\n            value={form.email}\r\n            disabled\r\n          />\r\n        </div>\r\n        <div className=\"col-6\">\r\n          <h6>Phone No</h6>\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            onChange={(e) => setForm({ ...form, phone: e.target.value })}\r\n            value={form.phone}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"col-12\">\r\n          <hr className=\"hr-custom my-4\" />\r\n          <div className=\"row mt-3\">\r\n            <div className=\"col-12\">Address</div>\r\n            <div className=\"col-md-12 mb-3\">\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"House No  / Floor No / Appartment Name\"\r\n                maxLength=\"100\"\r\n                className=\"form-control\"\r\n                value={form.houseNo}\r\n                onChange={(e) => setForm({ ...form, houseNo: e.target.value })}\r\n              />\r\n            </div>\r\n            <div className=\"col-md-5 mb-3\">\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Locality\"\r\n                maxLength=\"50\"\r\n                className=\"form-control\"\r\n                value={form.locality}\r\n                onChange={(e) => setForm({ ...form, locality: e.target.value })}\r\n              />\r\n            </div>\r\n            <div className=\"col-md-4 mb-3\">\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"City\"\r\n                maxLength=\"50\"\r\n                className=\"form-control\"\r\n                value={form.city}\r\n                onChange={(e) => setForm({ ...form, city: e.target.value })}\r\n              />\r\n            </div>\r\n            <div className=\"col-md-3 mb-3\">\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Pincode\"\r\n                className=\"form-control\"\r\n                value={form.pincode}\r\n                onChange={(e) => setForm({ ...form, pincode: e.target.value })}\r\n              />\r\n            </div>\r\n            <div className=\"col-md-12 mb-3\">\r\n              <input\r\n                type=\"text\"\r\n                value=\"India\"\r\n                maxLength=\"30\"\r\n                className=\"form-control\"\r\n                disabled\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"col-12 text-right mt-4\">\r\n          <button\r\n            type=\"submit\"\r\n            className=\"btn btn-primary\"\r\n            onClick={() => updateProfile()}\r\n          >\r\n            Save Changes\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Profile;\r\n\r\nexport const Cpassword = () => {\r\n  const { user, auth, setHeader, refresh, setAuth } = useContext(myContext);\r\n  const history = useHistory();\r\n\r\n  const [pass, setpass] = useState({\r\n    current: null,\r\n    new: null,\r\n    confirm: null,\r\n  });\r\n\r\n  function logout() {\r\n    axios\r\n      .get('/api/auth/logout', {}, { withCredentials: true })\r\n      .then(() => {\r\n        setAuth(false);\r\n        history.push('/signin');\r\n      })\r\n      .catch((er) => console.log(er));\r\n  }\r\n\r\n  function changepass() {\r\n    if (pass.new === pass.confirm) {\r\n      axios\r\n        .post('/api/user/changepass', { pass }, { withCredentials: true })\r\n        .then(() => {\r\n          toast.success('password changed');\r\n          setpass({ current: null, new: null, confirm: null });\r\n          logout();\r\n        })\r\n        .catch((err) => toast.error('current password is incorrect'));\r\n    } else toast.error('password does not match');\r\n  }\r\n\r\n  return (\r\n    <div className=\"col-md-6 shadow card profilecard p-5\">\r\n      <h3>Change Password</h3>\r\n      <div className=\"row mt-3\">\r\n        <div className=\"col-12 mb-3\">\r\n          <h6>Current Password</h6>\r\n          <input\r\n            type=\"password\"\r\n            className=\"form-control\"\r\n            value={pass.current}\r\n            onChange={(p) => setpass({ ...pass, current: p.target.value })}\r\n          />\r\n        </div>\r\n        <div className=\"col-6\">\r\n          <h6>New password</h6>\r\n          <input\r\n            type=\"password\"\r\n            className=\"form-control\"\r\n            value={pass.new}\r\n            onChange={(p) => setpass({ ...pass, new: p.target.value })}\r\n          />\r\n        </div>\r\n        <div className=\"col-6\">\r\n          <h6>Confirm Password</h6>\r\n          <input\r\n            type=\"password\"\r\n            className=\"form-control\"\r\n            value={pass.confirm}\r\n            onChange={(p) => setpass({ ...pass, confirm: p.target.value })}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"col-12 text-right mt-4\">\r\n          <button\r\n            onClick={() => changepass()}\r\n            type=\"submit\"\r\n            className=\"btn btn-primary\"\r\n          >\r\n            Change password\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","F:\\MCA\\MP\\crepairs\\frontend\\src\\pages\\Razorpay\\keys.js",[],"F:\\MCA\\MP\\crepairs\\frontend\\src\\pages\\Maintain.js",["134","135"],{"ruleId":"136","replacedBy":"137"},{"ruleId":"138","replacedBy":"139"},{"ruleId":"140","severity":1,"message":"141","line":7,"column":3,"nodeType":"142","messageId":"143","endLine":7,"endColumn":11},{"ruleId":"140","severity":1,"message":"144","line":6,"column":27,"nodeType":"142","messageId":"143","endLine":6,"endColumn":33},{"ruleId":"140","severity":1,"message":"145","line":7,"column":8,"nodeType":"142","messageId":"143","endLine":7,"endColumn":12},{"ruleId":"140","severity":1,"message":"146","line":21,"column":17,"nodeType":"142","messageId":"143","endLine":21,"endColumn":21},{"ruleId":"140","severity":1,"message":"147","line":3,"column":3,"nodeType":"142","messageId":"143","endLine":3,"endColumn":7},{"ruleId":"140","severity":1,"message":"141","line":5,"column":3,"nodeType":"142","messageId":"143","endLine":5,"endColumn":11},{"ruleId":"140","severity":1,"message":"148","line":15,"column":15,"nodeType":"142","messageId":"143","endLine":15,"endColumn":18},{"ruleId":"140","severity":1,"message":"149","line":9,"column":9,"nodeType":"142","messageId":"143","endLine":9,"endColumn":16},{"ruleId":"140","severity":1,"message":"149","line":83,"column":9,"nodeType":"142","messageId":"143","endLine":83,"endColumn":16},{"ruleId":"140","severity":1,"message":"150","line":8,"column":10,"nodeType":"142","messageId":"143","endLine":8,"endColumn":14},{"ruleId":"151","severity":1,"message":"152","line":116,"column":6,"nodeType":"153","endLine":116,"endColumn":25,"suggestions":"154"},{"ruleId":"140","severity":1,"message":"155","line":8,"column":9,"nodeType":"142","messageId":"143","endLine":8,"endColumn":13},{"ruleId":"140","severity":1,"message":"156","line":10,"column":11,"nodeType":"142","messageId":"143","endLine":10,"endColumn":15},{"ruleId":"140","severity":1,"message":"157","line":1,"column":17,"nodeType":"142","messageId":"143","endLine":1,"endColumn":27},{"ruleId":"151","severity":1,"message":"158","line":17,"column":6,"nodeType":"153","endLine":17,"endColumn":8,"suggestions":"159"},{"ruleId":"140","severity":1,"message":"157","line":1,"column":17,"nodeType":"142","messageId":"143","endLine":1,"endColumn":27},{"ruleId":"151","severity":1,"message":"160","line":14,"column":6,"nodeType":"153","endLine":14,"endColumn":8,"suggestions":"161"},{"ruleId":"140","severity":1,"message":"155","line":10,"column":9,"nodeType":"142","messageId":"143","endLine":10,"endColumn":13},{"ruleId":"140","severity":1,"message":"162","line":4,"column":10,"nodeType":"142","messageId":"143","endLine":4,"endColumn":15},{"ruleId":"140","severity":1,"message":"163","line":7,"column":10,"nodeType":"142","messageId":"143","endLine":7,"endColumn":23},{"ruleId":"140","severity":1,"message":"155","line":11,"column":9,"nodeType":"142","messageId":"143","endLine":11,"endColumn":13},{"ruleId":"140","severity":1,"message":"146","line":12,"column":17,"nodeType":"142","messageId":"143","endLine":12,"endColumn":21},{"ruleId":"140","severity":1,"message":"164","line":12,"column":34,"nodeType":"142","messageId":"143","endLine":12,"endColumn":41},{"ruleId":"151","severity":1,"message":"165","line":21,"column":6,"nodeType":"153","endLine":21,"endColumn":8,"suggestions":"166"},{"ruleId":"151","severity":1,"message":"167","line":92,"column":6,"nodeType":"153","endLine":92,"endColumn":8,"suggestions":"168"},{"ruleId":"140","severity":1,"message":"169","line":8,"column":17,"nodeType":"142","messageId":"143","endLine":8,"endColumn":26},{"ruleId":"151","severity":1,"message":"170","line":16,"column":3,"nodeType":"171","endLine":23,"endColumn":4},{"ruleId":"140","severity":1,"message":"172","line":2,"column":29,"nodeType":"142","messageId":"143","endLine":2,"endColumn":38},{"ruleId":"140","severity":1,"message":"147","line":3,"column":10,"nodeType":"142","messageId":"143","endLine":3,"endColumn":14},{"ruleId":"140","severity":1,"message":"146","line":9,"column":17,"nodeType":"142","messageId":"143","endLine":9,"endColumn":21},{"ruleId":"140","severity":1,"message":"156","line":219,"column":11,"nodeType":"142","messageId":"143","endLine":219,"endColumn":15},{"ruleId":"140","severity":1,"message":"146","line":219,"column":17,"nodeType":"142","messageId":"143","endLine":219,"endColumn":21},{"ruleId":"140","severity":1,"message":"169","line":219,"column":23,"nodeType":"142","messageId":"143","endLine":219,"endColumn":32},{"ruleId":"140","severity":1,"message":"164","line":219,"column":34,"nodeType":"142","messageId":"143","endLine":219,"endColumn":41},{"ruleId":"151","severity":1,"message":"152","line":82,"column":6,"nodeType":"153","endLine":82,"endColumn":25,"suggestions":"173"},{"ruleId":"140","severity":1,"message":"174","line":182,"column":18,"nodeType":"142","messageId":"143","endLine":182,"endColumn":33},"no-native-reassign",["175"],"no-negated-in-lhs",["176"],"no-unused-vars","'Redirect' is defined but never used.","Identifier","unusedVar","'Router' is defined but never used.","'Wash' is defined but never used.","'auth' is assigned a value but never used.","'Link' is defined but never used.","'url' is assigned a value but never used.","'history' is assigned a value but never used.","'keys' is defined but never used.","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'brands' and 'form.vehicleBrand'. Either include them or remove the dependency array.","ArrayExpression",["177"],"'path' is assigned a value but never used.","'user' is assigned a value but never used.","'useContext' is defined but never used.","React Hook useEffect has a missing dependency: 'fetchcars'. Either include it or remove the dependency array.",["178"],"React Hook useEffect has a missing dependency: 'id'. Either include it or remove the dependency array.",["179"],"'toast' is defined but never used.","'convertToHTML' is defined but never used.","'refresh' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'user._id'. Either include it or remove the dependency array.",["180"],"React Hook useEffect has a missing dependency: 'match.params.id'. Either include it or remove the dependency array.",["181"],"'setHeader' is assigned a value but never used.","The 'deleteuser' function makes the dependencies of useEffect Hook (at line 14) change on every render. To fix this, wrap the definition of 'deleteuser' in its own useCallback() Hook.","FunctionDeclaration","'useEffect' is defined but never used.",["182"],"'displayRazorpay' is defined but never used.","no-global-assign","no-unsafe-negation",{"desc":"183","fix":"184"},{"desc":"185","fix":"186"},{"desc":"187","fix":"188"},{"desc":"189","fix":"190"},{"desc":"191","fix":"192"},{"desc":"183","fix":"193"},"Update the dependencies array to be: [brands, form.vehicleBrand, form.vehicleModel]",{"range":"194","text":"195"},"Update the dependencies array to be: [fetchcars]",{"range":"196","text":"197"},"Update the dependencies array to be: [id]",{"range":"198","text":"199"},"Update the dependencies array to be: [user._id]",{"range":"200","text":"201"},"Update the dependencies array to be: [match.params.id]",{"range":"202","text":"203"},{"range":"204","text":"195"},[3411,3430],"[brands, form.vehicleBrand, form.vehicleModel]",[427,429],"[fetchcars]",[400,402],"[id]",[715,717],"[user._id]",[3431,3433],"[match.params.id]",[2466,2485]]